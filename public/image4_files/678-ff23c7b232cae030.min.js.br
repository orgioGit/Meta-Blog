"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="2d024010-18bd-5dd8-aeb7-f445d4ec4267")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[678],{319063:(e,t,n)=>{n.d(t,{AD:()=>I,CJ:()=>O,Cd:()=>u,DD:()=>T,DK:()=>m,E1:()=>y,G2:()=>i,I:()=>R,Ln:()=>S,My:()=>w,O6:()=>g,Ou:()=>x,P:()=>F,PD:()=>L,PU:()=>l,RA:()=>r,SP:()=>p,UF:()=>P,WB:()=>h,Wc:()=>c,Yd:()=>_,ZH:()=>A,cZ:()=>o,e3:()=>v,fh:()=>b,fi:()=>d,kT:()=>C,m_:()=>k,ts:()=>f,uH:()=>s,wx:()=>a,x$:()=>D,zQ:()=>E,zl:()=>N});let a="header--header--Dl3JY",r="header--headerClear---veTr",o="header--headerDark--OR4-f",l="header--presenterViewHeader--QI6Qk header--header--Dl3JY",i="header--headerWithSidebar--pHmLb",s="header--loadingHeader--cYdm7 header--header--Dl3JY",c="header--headerHidden--XF0PF",d="header--column--UnHDe",u="header--leftColumn--kKtFs header--sideColumn--HfeCE header--column--UnHDe",p="header--centerColumn--0Dbok header--column--UnHDe",m="header--rightColumn--vgTy3 header--sideColumn--HfeCE header--column--UnHDe",f="header--animatedAccessibilityDomButtonBox--D0fK7",g="header--animatedAccessibilityDomButton--tOjR5 basic_form--primaryBtn--AU7Gy basic_form--btn--FSrmp ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",E="header--commentsButton---7B5z action--root--aRLIQ",h="header--commentsButtonSelected--X9bDY header--commentsButton---7B5z action--root--aRLIQ",v="header--flowsButton--jvoH4 action--root--aRLIQ",_="header--fullScreenButton--kLdEh header--fullScreenButtonBase--9M7T3 action--root--aRLIQ",w="header--optionsMenuButton--mr4hE header--fullScreenButton--kLdEh header--fullScreenButtonBase--9M7T3 action--root--aRLIQ",y="header--fullScreenButtonDisabled--Jcz8q header--fullScreenButtonBase--9M7T3 action--root--aRLIQ",I="header--settingsDropdownTarget--HJ0bH",S="header--settingsDropdownButton--qQDK3",b="header--settingsDropdown--dkvpG",N="header--dropdownCaretWithPaddedFocusHalo--y4LGH header--dropdownCaret--aI6Gm",C="header--topLeftIcon--hPeZ2",P="header--topLeftIconWithPaddedFocusHalo--QUQye header--topLeftIcon--hPeZ2",k="header--topLeftWordMark--Ewa5b",T="header--title--O5i3v ellipsis--ellipsis--Tjyfa",x="header--titleWithCaret--iNOEc header--title--O5i3v ellipsis--ellipsis--Tjyfa",O="header--shareOrLoginButton--hyMBP",D="header--presenterViewIcon--tfY4B",A="header--presenterViewContentToggle--3IzBl",F="header--presenterViewToggleIcon--pRoPN header--presenterViewIcon--tfY4B",L="header--presenterViewToggleIconActive--R8ePE header--presenterViewToggleIcon--pRoPN header--presenterViewIcon--tfY4B",R="header--presenterViewOpenPopoutIcon--d9L8M"},519364:(e,t,n)=>{n.d(t,{kL:()=>a,pU:()=>r,tB:()=>l,uZ:()=>o});let a="embed--container--KRhyf",r="embed--iframe--6z9Fq",o="embed--playIcon--8LC5v",l="embed--backdrop--ssu2L"},170039:(e,t,n)=>{n.d(t,{U:()=>a});let a="flapp_overlay--elementContainer--b1Khv"},740631:(e,t,n)=>{n.d(t,{E7:()=>i,HH:()=>c,It:()=>f,Li:()=>m,O3:()=>o,S1:()=>a,YO:()=>p,c0:()=>h,cQ:()=>g,hQ:()=>l,iJ:()=>r,ki:()=>d,nr:()=>E,pE:()=>u,y2:()=>s});let a="presenter_view--presenterView--qTGZb text--fontPos11--2LvXf text--_fontBase--QdLsd",r="presenter_view--slideContentWrapper--NbIjx",o="presenter_view--noGap--um-Rz",l="presenter_view--contentContainer--n8GGQ",i="presenter_view--sectionSpacer--lnjR3",s="presenter_view--hiddenSectionSpacer--2rsjV presenter_view--sectionSpacer--lnjR3",c="presenter_view--resizableSectionSpacer--bc-7z presenter_view--sectionSpacer--lnjR3",d="presenter_view--sectionLine--9yoMT",u="presenter_view--frameCounterWrapper--pnkN9",p="presenter_view--frameCounter--JxO4u footer--frameCounter--5AU-l footer--pill--a9ne7",m="presenter_view--presentationFrameControlsWrapper--lLlOd",f="presenter_view--frameControlsBackground---9syX",g="presenter_view--replayButton--7qtsL",E="presenter_view--presenterViewViewerFrame--bZCSs",h="presenter_view--debugToolsContainer--UbKK2"},831216:(e,t,n)=>{n.d(t,{Pp:()=>u,fe:()=>p,v0:()=>f,xf:()=>m});var a=n(511617),r=n(374626),o=n(288706);n(30637);var l=n(939863),i=n(392592),s=n(611978),c=n(99506),d=n(549774),u=(e=>(e[e.DISPATCH_WINDOW_OPEN=0]="DISPATCH_WINDOW_OPEN",e[e.SET_READY_FOR_MESSAGES=1]="SET_READY_FOR_MESSAGES",e[e.CLOSE_WINDOW=2]="CLOSE_WINDOW",e))(u||{});function p(){let e=(0,s._6)();if("prototype"!==e.view)return"";let t=e.file.prototype_url?new URL((0,d.qI)(e.file.prototype_url,c._Y.SLIDES)):"";return t&&(e.nodeId&&t.searchParams.append("node-id",e.nodeId),t.searchParams.append("popout","true")),t.toString()}function m(e,t){if(""===t){i.F.enqueue({message:(0,l.t)("slides.presenter_view.unknown_error"),error:!0});return}let n=t.split("/")[4],o=`audience-view-${n}`;new URL(t);let s=.8*window.screen.availHeight,c=(0,a.FJ)(t,o,`height=${s},width=${16*s/9},left=0,top=0,popup=yes`);if(null===c){let n={text:(0,l.t)("slides.presenter_view.open_popup"),action:()=>{r.zl.set(f,{type:0,dispatch:e,url:t})}};e(i.F.enqueue({message:(0,l.t)("slides.presenter_view.pop_up_error"),error:!0,button:n})),r.zl.set(f,{type:2})}return c}let f=(0,o.um)({readyForMessages:!1},(e,t)=>{switch(t.type){case 0:{let e=m(t.dispatch,t.url);if(e)return{avWindow:e,readyForMessages:!1};return{readyForMessages:!1}}case 1:if(e.avWindow)return{...e,readyForMessages:!0};return{readyForMessages:!1};case 2:return{...e,readyForMessages:!1}}})},601607:(e,t,n)=>{n.d(t,{Fk:()=>s,Jk:()=>m,ew:()=>p,hr:()=>u,wA:()=>c,x3:()=>f});var a=n(411855),r=n(175515),o=n(341860),l=n(479296),i=n(464484);function s(e,...t){return d(!1,e,...t)}function c(e,...t){return d(!0,e,...t)}function d(e,t,...n){let r=(0,a.useRef)(new i.M(o.q.instance,t,e)),l=(0,a.useCallback)(()=>r.current.readValue(...n),[r,...n]);return(0,a.useSyncExternalStore)(e=>r.current.subscribe(e),l)}let u=(0,l.D)((e,...t)=>{let n=(0,a.useRef)(new i.L(o.q.instance,e)),r=(0,a.useCallback)(()=>n.current.readValue(...t),[n,...t]);return(0,a.useSyncExternalStore)(e=>n.current.subscribe(e),r)});function p(e){return s((e,t)=>t?t.map(t=>e.get(t)).filter(e=>null!==e):[],e)}function m(e){return s((e,t)=>t?e.get(t):null,e)}function f(e,...t){let n=(0,r.hk)(),o=(0,a.useRef)(n?new i.M(n,e):null),l=(0,a.useCallback)(()=>o.current?o.current.readValue(...t):null,[o,...t]);return(0,a.useSyncExternalStore)(e=>o.current?o.current.subscribe(e):()=>{},l)}},223556:(e,t,n)=>{n.d(t,{$W:()=>l,BX:()=>s,Ew:()=>u,Ho:()=>i,is:()=>d});var a=n(598045),r=n(935283),o=n(992271);function l(e){let t=e.getCurrentPage();(0,r.vA)(!!t,"expected currentPage to exist");let n=t.prototypeDevice;return n?n.presetIdentifier:null}function i(e,t,n){let a=t.x/t.y,o=e.x/e.y;(0,r.vA)(.01>Math.abs(a-o),`Expected ${a} \u2248 ${o}`);let l=e.x/t.x;return{x:n.x*l,y:n.y*l}}function s(e,t,n){let a=e.x/n.x;return{x:t.x*a,y:t.y*a}}let c=e=>{let t=o.hY[e];return(0,r.B1)(t,"getDeviceImageIdealSize must take in a valid presetIdentifier"),{x:t.imageSize.x/t.scaleFactor,y:t.imageSize.y/t.scaleFactor}};function d(e,t){let n=e=>({x:e.y,y:e.x}),{framePresetSize:r,offset:l}=o.hY[e],i=c(e),s=t===a.xOL.CCW_90,d={x:i.x-r.x-l.x,y:l.y};return s?{idealDeviceSize:n(i),framePresetSize:n(r),offset:n(d)}:{idealDeviceSize:i,framePresetSize:r,offset:l}}function u(e,t){let n=o.hY[e],a=o.hY[t];return(0,r.B1)(n,"expected device1 to exist"),(0,r.B1)(a,"expected device2 to exist"),n.deviceName===a.deviceName&&n.imageSize.x===a.imageSize.x&&n.imageSize.y===a.imageSize.y}},37458:(e,t,n)=>{n.d(t,{Il:()=>E,cw:()=>_,n1:()=>v,rG:()=>h,tt:()=>w});var a=n(411855),r=n(188507),o=n(752795),l=n(737947),i=n(320063),s=n(646240),c=n(374626),d=n(939863),u=n(392592),p=n(934533),m=n(831216),f=n(611978),g=n(250118);function E(){let e=(0,f._6)(),t=(0,r.wA)(),n=(0,s.Xr)(m.v0),o=(0,c.md)(m.v0),g=(0,m.fe)();(0,i.h)(()=>{if(e.isPresenterView&&e.openAudienceViewPopout){n({type:m.Pp.DISPATCH_WINDOW_OPEN,dispatch:t,url:g});let e=new URL(window.location.href);e.searchParams.delete("open-popout"),l.Ay.replace(e.toString()),t(u.F.enqueue({icon:p.zX.NOTES_ON_RECTANGLE,message:(0,d.t)("slides.presenter_view.visual_bells.opened_audience_view_in_separate_window")}))}}),a.useEffect(()=>{let e=()=>{o.avWindow?.close(),n({type:m.Pp.CLOSE_WINDOW})};return addEventListener("beforeunload",e),()=>{removeEventListener("beforeunload",e)}},[e.isPresenterView,e.openAudienceViewPopout,n,o.avWindow])}function h(e,t,n,r,o,l){let i=(0,c.md)(m.v0),d=i.avWindow,u=i.readyForMessages,p=(0,s.Xr)(m.v0);a.useEffect(()=>{d&&u&&l&&(d.viewer=l,d.postMessage({type:"WINDOW_VIEWER_SET"}))},[d,u,l]),a.useEffect(()=>{let a=a=>{if(d&&a.source===d)switch(a.data.type){case"NEXT_SLIDE":e();break;case"PREVIOUS_SLIDE":t();break;case"RESTART_PRESENTATION":r();break;case"SLIDE_AT_INDEX":n(a.data.index);break;case"POPOUT_AUDIENCE_VIEW_READY_FOR_MESSAGES":p({type:m.Pp.SET_READY_FOR_MESSAGES});break;case"POPOUT_AUDIENCE_VIEW_READY_FOR_TEST_INIT":d.viewer=l,d.postMessage({type:"WINDOW_VIEWER_SET"});break;case"POPOUT_AUDIENCE_VIEW_CLOSED":p({type:m.Pp.CLOSE_WINDOW})}};return window.addEventListener("message",a),()=>{window.removeEventListener("message",a)}},[l,d,n,e,t,p,r])}function v(e){let t=(0,c.md)(m.v0).avWindow;a.useEffect(()=>{t&&null!==e&&t.postMessage({type:"FILE_NAME_CHANGE",name:e})},[e,t])}function _(){let e=(0,c.md)(m.v0).avWindow;a.useEffect(()=>{let t=()=>{e&&("visible"===document.visibilityState?e.postMessage({type:"PRESENTER_VIEW_READY_FOR_MESSAGES"}):e.postMessage({type:"PRESENTER_VIEW_NOT_READY_FOR_MESSAGES"}))};return addEventListener("visibilitychange",t),()=>{removeEventListener("visibilitychange",t)}})}function w(e,t){let n=Object.keys(t?.videoJs.players??{}),{currFrameIndex:r}=(0,g.Xl)(e),l=(0,c.md)(m.v0),i=l.avWindow,s=l.readyForMessages,d=a.useCallback(()=>{if(!t?.videoJs)return;let e=Object.values(t.videoJs.getPlayers()).filter(o.isNotNullish),n=!!i&&!!s;return e.forEach(e=>{e.muted(n),e.on("play",()=>{e.muted(n)})}),()=>{e.forEach(e=>{e.off("play")})}},[i,s,t]);return a.useEffect(()=>{d()},[n,d]),a.useEffect(()=>{d()},[r,s,d]),d}},255416:(e,t,n)=>{n.d(t,{Yp:()=>ey,mD:()=>ew});var a=n(411855),r=n(188507),o=n(752795),l=n(629019),i=n.n(l),s=n(948401),c=n(737947),d=n(966712),u=n(374626),p=n(860601),m=n(563706),f=n(179940),g=n(153234),E=n(175515),h=n(761870),v=n(900814),_=n(861506),w=n(192437),y=n(201242),I=n(373466),S=n(762638),b=n(939863),N=n(56029),C=n(392592),P=n(738269),k=n(662275),T=n(938908),x=n(696097),O=n(992271),D=n(259927),A=n(798099),F=n(661843),L=n(288536),R=n(122983),B=n(737499),M=n(611978),U=n(860178),H=n(94500),V=n(433861),W=n(559403),z=n(977466),$=n(421407),K=n(189182),Z=n(514736),q=n(448879),Y=n(91425),Q=n(457749),G=n(152811),j=n(834898),J=n(728268),X=n(319008),ee=n(991167),et=n(747396),en=n(209932),ea=n(347127),er=n(449745),eo=n(26941),el=n(215688),ei=n(137874),es=n(833131),ec=n(632822),ed=n(650169),eu=n(957369),ep=n(250118),em=n(868912),ef=n(149836),eg=n(945564);let eE=(0,R.ck)(),eh={x:0,y:0,width:0,height:0},ev={x:0,y:0},e_=["client-id","embed_host","embed-host","hide-ui","theme","footer","page-selector","version","viewer"];function ew(e){let{viewer:t,getViewport:n}=e,r=a.useMemo(()=>({getViewportInfo:()=>n(),getRawViewportInfo:()=>n(),getCommentsWrapperOffset:e=>({x:-.5,y:0}),setCanvasSpaceCenter:(e,n,a)=>{if(!t||!t.getCurrentTlfBounds())return;let{x:r,y:o}=e;t.setCanvasSpaceCenterWithScroll({x:r,y:o})},setZoomScale:(e,n)=>t?t.adjustZoom(n/e,0):p.lQ,setHovering:p.lQ,setCurrentPageIdAsync:e=>(t?.setCurrentPageId(e),Promise.resolve()),pageIdForNodeId:e=>t?t.pageIdForNodeId(e):"1:0",getCommentDestinationForCanvasPosition:(e,n)=>{if(!t)return null;let a=t.getCommentDestinationAtPosition(e),r=!!a?.nodeId||void 0;return{canvasPosition:e,nodeId:a?.nodeId||void 0,nodeOffset:a?.nodeOffset||void 0,inFrame:r,pageId:n,createdIn:"prototype"}},getValidCommentsRect:()=>t?t.getCurrentTlfBounds():null}),[t,n]),o=a.useMemo(()=>new V.f5(r),[r]);return a.createElement(V.kw.Provider,{value:o},a.createElement(V.Bj,{getViewport:e.getViewport},e.children))}function ey(e){let{viewer:t,viewerElement:n,setViewerElement:l}=e,p=(0,r.d4)(e=>e.dropdownShown),S=(0,r.d4)(e=>e.modalShown),x=(0,r.d4)(e=>e.multiplayer),D=(0,r.d4)(e=>e.appWindow),R=(0,r.d4)(e=>e.prototype),V=(0,r.d4)(e=>e.user),Z=(0,f.qg)(c.Ay.location.search),q=Object.keys(Z).filter(e=>!e_.includes(e)).map(e=>`${e}=${Z[e]||""}`).join("&"),Y=(0,r.wA)();a.useEffect(()=>{Y(T.cL())},[Y]);let G=!!Z.needsAlpha;a.useEffect(()=>{G&&(document.body.style.background="transparent")},[G]);let j=(0,U.TA)(),J=(0,r.d4)(e=>e.comments),et=(0,r.d4)(e=>!!e.modalShown),ey=(0,u.md)($.n),[,eb]=(0,u.fp)(ep.Bf),eN=a.useRef(null),eC=(0,ep.b0)();a.useEffect(()=>{eN.current=n},[eN,n]);let eP=(0,M._6)();if("prototype"!==eP.view)throw Error(`Unexpected non-prototype view: ${eP.view}`);let ek=(0,eu.tK)();a.useEffect(()=>{if(null===t||null===ek)return;let e=t.getStoredPrototypeDevice();e?.presetIdentifier!==ek.presetIdentifier&&t.setStoredPrototypeDevice(ek)},[ek,t]),ep.VX(t,e.scalingInfo.viewportScalingMode,ek),ep.JI(t,e.file.canViewPrototypeAndNotFile),ep.kS(t,e.file.canEdit),E.O5(t,"prototypeDeviceChanged",e=>{eb((0,ep.RR)({baseScreenBounds:t?.getCurrentTlfBounds(),deviceType:e?.type})),e?.type==="PRESET"&&eP.showDeviceFrame&&!m.rr&&t&&t.preloadDeviceFrames(e,(0,O.WT)(O.LM[(0,O.qt)(e.presetIdentifier)],e).map(t=>({type:"PRESET",presetIdentifier:t.presetIdentifier,size:t.framePresetSize,rotation:e?.rotation||"NONE"}))),Y((0,H.Cs)({newDevice:e}))}),E.O5(t,"documentIsLoaded",()=>{if(!t)return;let e=t.getStoredPrototypeDevice();(function(e,t){if(!e)return;let n=e.getActivePrototypeStartingPointNodeId()??e.getBaseScreenId(),a=n?e.getPrototypeNode(n):e.getTopmostFrameNode(),r=a?e.nodeFullSize(a):e.getCurrentTlfBounds();ep.pZ(r),ep.oh(t)})(t,e),eb((0,ep.RR)({baseScreenBounds:t.getCurrentTlfBounds(),deviceType:e?.type}))});let{getViewport:eT}=ep.ew(t,n),{fadeBehavior:ex,showUI:eO,setHideUI:eD}=ep.uR(t,n,R.showProgressBar,e.file,e.isCommentsMode),{showNextFrame:eA,showPreviousFrame:eF,restartPrototype:eL}=ep.Qd(t,x),eR=a.useCallback(()=>{Y((0,H.Zh)({name:"prototype.replay_clicked",params:{source:"new tab viewer"}})),eL()},[Y,eL]),eB=a.useCallback(()=>{Y(h.Ts({origin:"prototype_comment_signed_out"})),Y(k.to({type:z.x,data:{id:el.nO,headerText:`Log in or create an account to leave comments on "${e.file.name}".`}}))},[Y,e.file.name]);ep.r7(e.recordingKey,t,V,ek,J,e.isCommentsMode,x,eB,S,eD,ex),ep.QZ(),ep.f9(t,e.file,R),ep.cT(t,e.file,R,(0,d.Ay)().tracking_session_id||null,e.isCommentsMode,eN);let{currFrameIndex:eM,numFrames:eU,shouldShowFrameCounter:eH,navigateForwardEnabled:eV,navigateBackwardEnabled:eW}=ep.Xl(t);a.useEffect(()=>{eC&&window.parent.postMessage({type:"INLINE_PREVIEW_SET_FRAME_CONTROLS",data:{navigateBackwardEnabled:eW,navigateForwardEnabled:eV}},"*")},[eW,eV,eC]);let ez=a.useCallback(e=>{t&&(t.setActivePrototypeStartingPointNodeId(e),t.navigateToFrameAndCloseOverlays(e),eR())},[t,eR]);a.useEffect(()=>{if(!eC)return;let e=e=>{e.origin===location.origin&&(e.data?.type==="SET_SCALING_MODE"?Y((0,H.Jr)({...e.data.data.scalingInfo,userInitiated:e.data.data.userInitiated,source:"inline-preview"})):e.data?.type==="INLINE_PREVIEW_WAS_MODAL_OPENED_SINCE_VIEWER_LOADED"&&N.Su.setWasInlinePreviewModalOpenedSinceViewerLoaded(e.data.data.wasModalOpenedSinceViewerLoaded))};return window.addEventListener("message",e),window.parent.postMessage({type:"INLINE_PREVIEW_READY_TO_RECEIVE_MESSAGES"},"*"),()=>{window.removeEventListener("message",e)}},[Y,eC]),a.useEffect(()=>{let e=e=>{e.origin===location.origin&&(e.data?.type==="SET_OBSERVING_SESSION_ID"&&t&&t.observingSessionId()!==e.data.data.sessionId&&t.setObservingSessionID(e.data.data.sessionId),e.data?.type==="PROTOTYPE_EMBED_SELECT_FLOW"&&ez(e.data.data.flowId))};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}},[t,Y,eC,ez]),ep.Zt(R,e.file.name,t);let[e$,eK]=a.useState(null),eZ=function(){let[e,t]=a.useState(!0),n=()=>void t(!0),r=()=>void t(!1);return a.useEffect(()=>(document.body.addEventListener("focus",n,!0),document.body.addEventListener("mouseup",r,!0),document.body.addEventListener("mousemove",r,!0),()=>{document.body.removeEventListener("focus",n,!0),document.body.removeEventListener("mouseup",r,!0),document.body.removeEventListener("mousemove",r,!0)}),[]),e}(),eq=D.inFullScreenMode,eY=eP.bareUI||m.rr,eQ=ek&&"NONE"!==ek.type,eG="min-zoom"===e.scalingInfo.viewportScalingMode||"scale-down-width"===e.scalingInfo.viewportScalingMode||"responsive"===e.scalingInfo.contentScalingMode&&!eQ||eY||eq||eC,ej=R.backgroundColor,eJ=`rgba(${ej.r}, ${ej.g}, ${ej.b}, ${ej.a/255})`,eX=eY&&G?{}:{backgroundColor:eJ},e0=eP.hideUI,e1=eO&&!e0,e5=eP.showProtoSidebar&&!e0;!e0&&x.sessionID!==x.presenterSessionID&&(0,o.isNotNullish)(x.presenterSessionID)&&-1===x.observingSessionID&&(e1=!0),eY&&null!=t&&"NONLINEAR"===t.prototypeType()&&(e1=!1,e5=!1);let e2=!e1&&!e5&&!ey,e6=e$||ef.xt,e9=e=>{let t={...eP,showProtoSidebar:e};Y(P.$T(t)),Y((0,H._P)({name:"Prototype Show Flows Sidebar",params:{show:e}}))},e4=ek?.type==="PRESET"&&!eY&&!m.rr,e7=!e0&&!eP.bareUI&&ep.dH()&&!eE;(0,d.kc)().embedkit_v2&&(e7=e7&&(0,s.s_)().showFooter);let e8=(0,d.kc)().embedkit_v2&&ep.dH()&&!eE&&!eC&&!e0&&!eP.bareUI,e3=(0,d.Ay)(),te=(0,F.kx)(t),tt=a.useCallback(e=>{null!==t&&t.watchBoundsForNodes(e)},[t]),tn=a.useCallback(e=>null===t?{}:t.getCanvasSpaceCommentLocations(e),[t]),ta=a.useCallback((e,t,n)=>({}),[]),[tr,to]=a.useState(!1),tl=new Set(["resolved","yours"]),ti=`${eg.KK} ${eZ||e.isCommentsMode?"":eg.h2}`,ts=function(e,t,n){let[r,o]=a.useState(""),l=(0,A.ft)()?"pointermove":"mousemove";return a.useEffect(()=>{let a=a=>{if(!e){o("");return}let r={x:a.clientX,y:a.clientY},l=t?.getCurrentTlfBounds()||eh,i=n?.getBoundingClientRect()||ev,s={x:l.x+i.x,y:l.y+i.y};o(r.x>=s.x&&r.x<=s.x+l.width&&r.y>=s.y&&r.y<=s.y+l.height&&eg.S4||"")};return document.addEventListener(l,a),()=>{document.removeEventListener(l,a)}},[l,e,t,n]),r}(e.isCommentsMode,t,n),tc=(0,ea.f)(e.file.editorType)?a.createElement(er.j,{file:e.file,fadeBehavior:ex,showProgressBar:R.showProgressBar,showComments:R.showComments,shouldShowUI:e1,multiplayer:x,recordingKey:g.Pt(e,"header")}):a.createElement(es.Y9,{file:e.file,prototype:R,multiplayer:x,shouldShowUI:e1,shouldHideHeader:e2,showAuthCommentsModal:eB,prototypeBGColor:R.backgroundColor||W.o,inFullScreenMode:eq,onBlurCapture:ex.handleHeaderOrFooterBlur,onFocusCapture:ex.handleHeaderOrFooterFocus,onMouseMove:ex.handleHeaderOrFooterMove,recordingKey:g.Pt(e,"header"),startingPointsData:t?.prototypeStartingPointsData?.()||[],sidebarData:{setShowSidebar:e9,isSidebarOpen:!!e5,sidebarId:el.IO},isCommentsSidebarOpen:e.isCommentsMode,viewer:t,setAccessibilityTreeFocus:to,optionsMenu:a.createElement(ed.Ag,{editorType:e.file.editorType,device:ek,showHotspots:e.showHotspots,showPrototypeOptions:e.showPrototypeOptions,showDeviceFrame:e.showDeviceFrame,dropdownShown:p,setHideUI:eD,recordingKey:g.Pt(g.Pt(e,"header"),"options-menu")})});return(0,d.kc)().embedkit_v2&&ep.dH()&&!eE&&!eC&&(tc=null),a.createElement(eI,{file:e.file,orgId:e.org?.id||null,nodeId:eP?.nodeId||null,comments:J,getPageIdsForNodes:te,commentAnchorPositions:tn,commentBoundingBoxAnchorPositions:ta,commentWatchBoundsForNodes:tt,viewer:t},t?a.createElement(L.il,{viewer:t}):null,a.createElement(ew,{getViewport:eT,viewer:t},a.createElement("div",{"aria-hidden":et,className:ti},a.createElement("div",{className:`${eg.Tp} ${G?eg.t0:""} ${e.isCommentsMode?"viewer-cursors-disabled":""}`,onMouseMove:e=>{ex.handlePageMouseMove(e,e5?e6:0)},style:eX},!eY&&tc,a.createElement("div",{className:eg.Qs},!eY&&a.createElement(ef.rI,{id:el.IO,showSidebar:!!e5,openFileKey:e.file.key,startingPointsData:t?.prototypeStartingPointsData?.()||[],activePrototypeStartingPointNodeId:t?.getActivePrototypeStartingPointNodeId?.()||"",onSelectFlow:ez,setShowSidebar:e9,setSidebarWidthInParent:eK}),a.createElement("div",{className:i()(eg.Xw,{[eg.wc]:e5&&!("contain"===e.scalingInfo.viewportScalingMode||"scale-down"===e.scalingInfo.viewportScalingMode)})},a.createElement("div",{style:{userSelect:"none"},className:i()(ts,eG?eg.Jf:eg.q9)},a.createElement(eo.HC,{autofocus:tr,setAutofocus:to,viewer:t}),a.createElement("div",{id:"viewerContainer",className:eg.lJ,ref:l})),!B.Jp()?.shouldHideFooter&&!e8&&a.createElement("div",{onBlurCapture:ex.handleHeaderOrFooterBlur,onFocusCapture:ex.handleHeaderOrFooterFocus,onMouseMove:ex.handleHeaderOrFooterMove,onMouseDown:e=>{e.stopPropagation()},className:eg.xQ},a.createElement(y.wi,{navigateForwardEnabled:eV,navigateBackwardEnabled:eW,shouldShowFrameCounter:eH,frameCount:eU,currentFrameIndex:eM,shouldShowUI:e1||"feed"===Z["redirect-src"],showPreviousFrame:eF,showNextFrame:eA,dispatch:Y,viewer:t,restartPrototype:eR,editorType:e.file.editorType,recordingKey:g.Pt(e,"footer"),optionsMenu:e4?a.createElement(ed.Ag,{editorType:e.file.editorType,device:ek,dropdownShown:p,showHotspots:e.showHotspots,showPrototypeOptions:e.showPrototypeOptions,showDeviceFrame:e.showDeviceFrame,setHideUI:eD,isFooter:!0,recordingKey:g.Pt(g.Pt(e,"footer"),"options-menu")}):void 0})),e8&&a.createElement(a.Fragment,null,a.createElement(_.l,{fileKey:e.file.key}),a.createElement(y.RN,{currentFrameIndex:eM,frameCount:eU,navigateBackwardEnabled:eW,navigateForwardEnabled:eV,shouldShowFrameCounter:eH,restartPrototype:eR,showPreviousFrame:eF,showNextFrame:eA}))),!eY&&t&&!eC&&a.createElement(em.L,{showSidebar:e.isCommentsMode,scrollable:!1,withoutHeaderMargin:(0,s.jc)()},a.createElement(Q.B,{filters:tl,hideSettingsDropdown:!0,hidePageName:!0,hideOrphanedState:!0,hideResolve:!1,onCloseButton:()=>Y(T.BZ())}))),a.createElement(ec.i,{viewer:t,viewerEl:n}),a.createElement(eS,{...e,viewer:t,viewerElement:n,gestureCanvasRef:eN}),R.isReconnecting&&a.createElement(ee.z,{clientType:"prototype"}),p&&p.type===ef.iO&&a.createElement(w.tH,{boundaryKey:"FlowContextMenu",onError:()=>{Y(C.F.enqueue({message:"Unable to open context menu",type:"react-error"}))},fallback:w.H4.NONE_I_KNOW_WHAT_IM_DOING},a.createElement(ei.F,{clientX:p.data.clientX,clientY:p.data.clientY,nodeId:p.data.nodeId,prototypeUrl:e.file.prototypeUrl,fileKey:e.file.key,startingPointsData:t?.prototypeStartingPointsData?.()||[]}))),a.createElement(K.$,null),e.file.key&&e7&&((0,d.kc)().embedkit_v2?a.createElement(v.y,{accessData:e3,isPrototype:!0,fileKey:e.file.key,params:q,fileName:e.file.name||(0,b.t)("proto.embeds.loading"),touchedAt:e.file.touchedAt}):a.createElement(en.y,{isPrototype:!0,...e3,fileKey:e.file.key,params:q,fileName:e.file.name||(0,b.t)("proto.embeds.loading"),touchedAt:e.file.touchedAt})),!j&&a.createElement(I.j,null)),!!t&&!eP.bareUI&&a.createElement(X.Nz,{prototypeHeaderHidden:e2})))}function eI(e){let t=(0,U.TA)(),n=e.viewer?.getTopmostFrameNode(),r=n&&e.viewer?.nodeId(n)||e.nodeId,o=null!=(0,B.Jp)()?et.jm:q.y;return a.createElement(x.NX,{userId:t,file:e.file,orgId:e.orgId,activeId:e.comments.activeThread?.id||null,anchorPositions:e.commentAnchorPositions,boundingBoxPositions:e.commentBoundingBoxAnchorPositions,DEPRECATED_updateWatchedNodeIds:e.commentWatchBoundsForNodes,getPageIdsForNodes:e.getPageIdsForNodes},a.createElement(Z.a.Provider,{value:o},a.createElement(G.pO,{initialFilterState:{currentNode:!0},currentNode:r||void 0},e.children)))}function eS(e){let t=(0,r.d4)(e=>e.prototype),n=(0,r.d4)(e=>e.dropdownShown),o=(0,r.d4)(e=>e.user),l=(0,Y.v)(),i=(0,r.wA)(),s=(0,r.d4)(e=>e.comments);if(a.useEffect(()=>{e.isCommentsMode&&i((0,H._P)({name:"Prototype Comments Viewed"}))},[i,e.isCommentsMode]),!e.isCommentsMode||!o||!e.viewer||!e.viewerElement||!t.currentPageId)return null;let{comment:c,parentRect:d,thread:u,isUnread:p}=n?.data||{},m=o&&n?.type===D.VJ;return a.createElement("div",{id:el.Bt,className:S.cx.relative.zIndex1.$},a.createElement(j.$2,{modeOverride:"details",pageId:t.currentPageId,activeId:s.activeThread?.id||null,showOnlyParticipatingComments:t.showOnlyParticipatingComments,showResolvedComments:t.showResolvedComments,gestureCanvasRef:e.gestureCanvasRef}),m&&a.createElement(J.V,{dispatch:i,thread:u,comment:c,isUnread:p,parentRect:d,currentUser:o,copyLink:l}))}},250118:(e,t,n)=>{n.d(t,{Ac:()=>e0,Bf:()=>tn,Fg:()=>e6,GP:()=>e5,IK:()=>eY,Ik:()=>e9,JI:()=>e$,PG:()=>tt,Pz:()=>e1,QZ:()=>eP,Qd:()=>eR,RR:()=>eF,Ti:()=>ej,VX:()=>eW,Xl:()=>eL,Yu:()=>ey,Zt:()=>eU,b0:()=>ez,cT:()=>eT,dH:()=>eI,ew:()=>eM,f9:()=>ek,kS:()=>eK,kZ:()=>e8,l1:()=>te,oh:()=>eV,on:()=>eD,pZ:()=>eH,pw:()=>eN,qW:()=>eB,r7:()=>ex,uR:()=>eb,w6:()=>eJ,xu:()=>e4});var a=n(411855),r=n(188507),o=n(598045),l=n(776250),i=n(344780),s=n(935283),c=n(511617),d=n(297666),u=n(517333),p=n(948401),m=n(691273),f=n(513654),g=n(737947),E=n(966712),h=n(374626),v=n(646240),_=n(38580),w=n(498750),y=n(588169),I=n(915440),S=n(860601),b=n(563706),N=n(179940),C=n(153234),P=n(776621),k=n(96328),T=n(539130),x=n(30637),O=n(572206),D=n(30090),A=n(175515),F=n(201242),L=n(939863),R=n(56029),B=n(392592),M=n(980820),U=n(362252),H=n(831216),V=n(975350),W=n(944682),z=n(738269),$=n(293017);n(906113);var K=n(938908),Z=n(992271),q=n(356390),Y=n(498083),Q=n(581880),G=n(860707),j=n(379202),J=n(87623),X=n(126911),ee=n(809511),et=n(499743),en=n(737499),ea=n(605328),er=n(335682),eo=n(611978),el=n(193212);n(241437);var ei=n(892542),es=n(279453),ec=n(155300),ed=n(828527),eu=n(94500),ep=n(549774),em=n(433861),ef=n(559403),eg=n(977466),eE=n(963719),eh=n(717156),ev=n(750252),e_=n(337414),ew=n(624187),ey=(e=>(e[e.PRESENTATION=0]="PRESENTATION",e[e.CUSTOM=1]="CUSTOM",e[e.LARGE=2]="LARGE",e[e.SMALL=3]="SMALL",e[e.DEFAULT=4]="DEFAULT",e))(ey||{});function eI(){return c.GZ()&&!(0,x.PN)()}function eS(e,t){let{getViewport:n,viewportPositionToPrototypeCanvas:r}=eM(e,t);return a.useCallback(e=>{let t=n();return t?r(t,e):null},[n,r])}function eb(e,t,n,o,l){let[i,s]=a.useState(!1),c=a.useRef(i);c.current=i;let[d]=a.useState(()=>new e_.e(()=>c.current,s));(0,el.U3)("focus",d.onWindowFocus),a.useEffect(()=>()=>{d.teardown()},[d]),a.useEffect(()=>{n||d.handleProgressBarStoppedShowing()},[d,n]),a.useEffect(()=>{l?d.didEnterCommentsMode():d.didLeaveCommentsMode()},[d,l]),a.useEffect(()=>{d.didRscUserFlagsUpdate([])},[d]),(0,A.O5)(e,"baseScreenChanged",e=>{e.userInitiated&&d.handleHotspotClicked()});let u=eS(e,t),p=a.useCallback(t=>{if(!e)return;let n=u(t);if(!n)return;let a=e.prototypeViewHitTest(n);d.handlePageMouseDownOrTouchStart(a)},[e,d,u]);(0,A.O5)(e,"canvasMouseDown",p),(0,A.O5)(e,"canvasTouchDown",p);let m=(0,r.wA)(),f=(0,eo._6)(),g=(0,et.p)(),E=(0,ei.b)(g,ei.d.PROTOTYPE_HIDE_UI_VISUAL_BELL),h=a.useCallback(e=>{let t={...f,hideUI:e};m(z.$T(t));let n=e6();e?(m(B.F.enqueue({type:"prototype-ui-hidden",get message(){return(0,L.t)("viewer.popup.press_key_to_show_ui_again",{keycommand:n})},button:{text:(0,L.t)("viewer.popup.copy_sharing_link"),action:()=>{m(W.S({fileKey:o.key,url:`${o.prototypeUrl}${(0,ep.vp)(t,null,null,E)}`,source:ei.d.PROTOTYPE_HIDE_UI_VISUAL_BELL,skipVisualBell:!0}))}}})),m(K.BZ())):d.handleUnhideUI()},[m,d,f,o,E]);return{fadeBehavior:d,showUI:i,setHideUI:h}}function eN(){let e=(0,r.wA)(),t=(0,eo._6)();return a.useCallback(n=>{let a={...t,disableDefaultKeyboardNav:n};e(z.$T(a)),e((0,eu.Zh)({name:"prototype.figma_shortcuts_setting_changed",params:{enabled:!n}})),n?e(B.F.enqueue({type:"prototype-default-keyboard-nav-disabled",get message(){return(0,L.t)("viewer.options.default_keyboard_navigation_disabled")}})):e(B.F.enqueue({type:"prototype-default-keyboard-nav-enabled",get message(){return(0,L.t)("viewer.options.default_keyboard_navigation_enabled")}}))},[e,t])}function eC(e,t,n){-1!==t.observingSessionID&&(e?.setObservingSessionID(-1),n((0,eu._P)({name:"Prototype Observation Ended",params:{multiplayerObservingSessionID:t.observingSessionID,multiplayerSessionID:t.sessionID}})))}function eP(){a.useEffect(()=>{let e=document.body.style.overscrollBehavior;return document.body.style.overscrollBehavior="none",()=>{document.body.style.overscrollBehavior=e}},[]),(0,el.U3)("touchmove",e=>e.preventDefault(),{passive:!1})}function ek(e,t,n){let o=(0,r.wA)(),l=(0,eo._6)(),i=(0,en.e8)();a.useEffect(()=>{i&&(i._is_restartable=()=>!0,i._set_show_hotspots=e=>{o((0,eu.KJ)({showHotspots:e}))},i._set_content_scale_to_responsive=t=>{let n={viewportScalingMode:"fit-width",contentScalingMode:"fixed"};t&&(n={viewportScalingMode:"contain",contentScalingMode:"responsive"}),e?.setScalingMode(n),o((0,eu.Jr)({...n,source:"mobile",userInitiated:!0}))},i._restart=()=>{o((0,eu.Zh)({name:"prototype.replay_clicked",params:{source:"new tab viewer"}})),e?.restartPrototype()},i._get_file_name=()=>{var e=n.pages.find(e=>e.nodeId===n.currentPageId);return e?t.name+" - "+e.name:t.name},i._set_active_prototype_starting_point_node_id=t=>{e?.setActivePrototypeStartingPointNodeId(t),e?.navigateToFrameAndCloseOverlays(t),e?.restartPrototype(),o(z.$T({...l,nodeId:t,startingPointNodeId:t}))},i._set_comments_visibility=e=>{e?o(K._b()):o(K.BZ())},i._get_memory_stats=()=>({metadata:JSON.parse(JSON.stringify({coreJsBufferMemory:ee.hMR?.getJsBufferMemory()||0,coreLocalMaxUsedHeapMemory:ee.hMR?.getLocalMaxUsedHeapMemory()||0,coreMaxUsedHeapMemory:ee.hMR?.getMaxUsedHeapMemory()||0,coreTotalUsedHeapMemory:ee.hMR?.getTotalUsedHeapMemory()||0})),reservedWasmMemory:(0,G.le)()||0,rendererGpuMemory:e?.getGPUMemoryTotal()||0,rendererBreakdown:e?.getGPUMemoryStats()}),i._override_document_visibility_state=ev.R)},[i,o,t,n,e,l])}function eT(e,t,n,r,o,l){let i=(0,eo._6)(),s=(0,en.Jp)();a.useEffect(()=>{s?.updateTrackingSessionId&&r&&s.updateTrackingSessionId(r)},[s,r]),(0,ea.kn)(o,l),a.useEffect(()=>{void 0!==i.showHotspots&&s?.updatePrototypeHotspotHintsVisibility&&s.updatePrototypeHotspotHintsVisibility(i.showHotspots)},[s,i.showHotspots]),a.useEffect(()=>{if(s?.updatePrototypeResponsiveContentScalingEnabled){let e=i.scalingInfo??(0,eu.M9)(i);s.updatePrototypeResponsiveContentScalingEnabled("responsive"===e.contentScalingMode)}},[s,i,i.scalingInfo]),a.useEffect(()=>{i.nodeId&&n.currentPageId&&i.nodeId!==n.currentPageId&&s?.updatePrototypeDisplayedFrameId&&s.updatePrototypeDisplayedFrameId(i.nodeId)},[s,i.nodeId,n.currentPageId]),a.useEffect(()=>{let e=n.pages.find(e=>e.nodeId===n.currentPageId);if(e&&s?.updatePrototypeName){let n=t.name+" - "+e.name;s.updatePrototypeName(n)}},[s,t,n]),a.useEffect(()=>{var t=e?.prototypeStartingPointsData?.()||[],n=e?.getActivePrototypeStartingPointNodeId?.();n&&0===t.length&&t.push({id:n,name:"Flow 1",description:""}),s?.updatePrototypeStartingPoints&&s.updatePrototypeStartingPoints({startingPoints:t,activeStartingPointNodeId:n||t[0]?.id})},[s,t,e])}function ex(e,t,n,o,l,i,s,c,d,u,p){let m=(0,r.wA)(),f=(0,eo._6)(),g=(0,h.md)(tn),{showNextFrame:v,showPreviousFrame:_,restartPrototype:y}=eR(t,s),I=(0,r.d4)(e=>e.interactionTestDialogShown),S=(0,H.fe)(),b=a.useCallback(e=>{i?null===l.activeThread?m(K.BZ()):l.activeThread.id&&m(V.UU()):eI()||(u(!1),m((0,eu._P)({name:"Prototype Shortcut",params:{type:"show UI"}})),m((0,eu._P)({name:"Prototype Hide UI",params:{hide:!1}})))},[m,i,l.activeThread,u]),N=a.useCallback(()=>{let e=!f.hideUI;return!eI()&&(u(e),m((0,eu._P)({name:"Prototype Shortcut",params:{type:`${e?"hide":"show"} UI`}})),m((0,eu._P)({name:"Prototype Hide UI",params:{hide:e}})),!0)},[m,f.hideUI,u]),P=a.useCallback(()=>{m((0,eu._P)({name:"Prototype Shortcut",params:{type:"comments"}})),n?i?m(K.BZ()):m(K._b()):c()},[m,i,c,n]),k=a.useCallback(e=>{let t=(0,eu.M9)(f),n=e1(o?.type,g),a=e0(t,n),r=n.findIndex(e=>e.scalingOptionId===a);-1===r?r=e.shiftKey?n.length-1:0:e.shiftKey?0===r?r=n.length-1:r--:r===n.length-1?r=0:r++;let l=n[r];m((0,eu.Jr)({...l.scalingInfo,userInitiated:!0,source:"presentation"})),m(B.F.clearAll()),m(B.F.enqueue({get message(){return(0,L.t)(o?.type==="PRESET"?"viewer.popup.device_scale_set_to":"viewer.popup.content_scale_set_to",{scalingMode:e5(l.scalingOptionId)})}}))},[f,o?.type,g,m]),T=a.useCallback(e=>{if(d?.type===eg.x)return C.aH;let t=e.target?e.target:null;if(t&&"BUTTON"===t.tagName&&["Space","Enter"].includes(e.code)||t&&"menu"===t.getAttribute("role")&&["Escape","ArrowUp","ArrowDown","Home","PageUp","End","PageDown","Space","Enter"].includes(e.code))return C.aH;let n=!1;(0,eu.RL)(e,f)?(_(),n=!0):e.keyCode===w.Uz.ESCAPE?(b(e),n=!0):((0,w.Te)(e)||(0,w.sC)(e,0))&&(null!=e.code&&((0,E.kc)().ce_iso_macos_i18n_keys_swap&&e.key===e2()?.key||e.code===e2()?.code)||(0,w.Te)(e)&&("\\"===e.key||"."===e.key))?N()&&(n=!0):(0,eu.eA)(e,f)?(P(),n=!0):e.keyCode!==w.Uz.V||!i||e.metaKey||e.shiftKey||e.ctrlKey?(0,eu.fz)(e,f)?(m((0,eu._P)({name:"Prototype Shortcut",params:{type:"replay"}})),m((0,eu.Zh)({name:"prototype.replay_clicked",params:{source:"new tab viewer"}})),y(),n=!0):(0,eu.Bx)(e,f)?(m((0,U._M)()),n=!0):(0,eu.e)(e,f)?(k(e),n=!0):(0,eu.ql)(e)||((0,eu.yE)(e,f)?(0,H.xf)(m,S):(0,eu.Hs)(e,f)&&!l.activeThread&&(v(!0),n=!0)):(P(),n=!0),p.handleKeyDown(e,n)},[m,l.activeThread,p,P,b,N,k,d,y,v,_,f,i,t,I,S]),x=(0,C.v_)(e,"keydown",T);(0,el.U3)("keydown",x)}let eO=!1;function eD(){eO=!0}let eA=(0,M.nF)((e,{nodeId:t,startingPointNodeId:n,forceReplaceState:a})=>{let r=e.getState().selectedView;e.dispatch(z.$T({...r,nodeId:t,startingPointNodeId:n,forceReplaceState:a}))});function eF({baseScreenBounds:e,deviceType:t}){let n=4,a=e&&(0,ec.o)(e.width/e.height,16/9);if("PRESENTATION"===t||a)n=0;else if("CUSTOM"===t)n=1;else if("PRESET"===t)n=4;else if(e){let{width:t}=e;n=t>1024?2:3}return n}function eL(e){let[t,n]=a.useState(0),[r,o]=a.useState(0),[l,i]=a.useState([]),[s,c]=a.useState(!1),[d,u]=a.useState(!1),[p,m]=a.useState(!1),f=a.useCallback(()=>{e?.hasActiveScene()&&(n(e.getPrototypeStateCurrentIndex()),o(e.getNodesToShowInPrototype().length),i(e.getNodesToShowInPrototype()),c("FRAME_LIST"===e.prototypeType()),u(e.getNavigateForwardEnabled()),m(e.getNavigateBackwardEnabled()))},[e]);return(0,A.O5)(e,"navigationInfoInvalidated",f),(0,A.O5)(e,"topLevelFramesListInvalidated",f),(0,A.O5)(e,"topLevelFrameChange",f),a.useEffect(()=>{f()},[f]),{currFrameIndex:t,numFrames:r,nodesToShowInPrototype:l,shouldShowFrameCounter:s,navigateForwardEnabled:d,navigateBackwardEnabled:p}}function eR(e,t){let n=(0,r.wA)();return{showNextFrame:a.useCallback(a=>{t&&eC(e,t,n),e?.getNavigateForwardEnabled()&&(F.mt()?.animateNext(),e?.navigateForward(a))},[t,n,e]),showPreviousFrame:a.useCallback(()=>{t&&eC(e,t,n),e?.getNavigateBackwardEnabled()&&(F.mt()?.animateBack(),e?.navigateBackward())},[t,n,e]),restartPrototype:a.useCallback(()=>{e?.restartPrototype()},[e])}}function eB(e,t){let n=(0,r.wA)(),{showNextFrame:o,showPreviousFrame:l,restartPrototype:i}=eR(e,t);return{showNextFrame:o,showPreviousFrame:l,restartPrototype:i,navigateToFrameAtIndex:a.useCallback(a=>{t&&eC(e,t,n),e?.navigateToFrameAtIndex(a)},[t,n,e])}}function eM(e,t){let n=a.useRef(null),r=a.useRef(null),o=a.useCallback(()=>{if(t){let e=t.getElementsByTagName("canvas");return 1===e.length?e[0]:null}return null},[t]),l=a.useCallback(()=>{let e=o(),t=n.current;if(!e||!t)return;let a=e.getBoundingClientRect(),l={x:a.left,y:a.top,width:a.width,height:a.height,offsetX:-t.offset.x+(r?.current?.x||0),offsetY:-t.offset.y+(r?.current?.y||0),zoomScale:t.zoomScale,isPanning:!1,isZooming:!1};q.Y5.viewport.trigger("onSetViewport",l)},[o]),i=a.useCallback(()=>{let e=o(),t=n.current,a=e&&e.getBoundingClientRect();return a&&t?{x:a.left,y:a.top,width:a.width,height:a.height,offsetX:t&&-t.offset.x+(r?.current?.x||0),offsetY:t&&-t.offset.y+(r?.current?.y||0),zoomScale:t&&t.zoomScale,isPanning:!1,isZooming:!1}:em.t4},[o]),s=a.useCallback((e,t)=>{let n=o(),a=n&&n.getBoundingClientRect();return a?O.Mi.rounded({x:(t.x-a.width/2)/e.zoomScale+e.offsetX,y:(t.y-a.height/2)/e.zoomScale+e.offsetY}):null},[o]);return(0,A.O5)(e,"viewportChanged",t=>{if(n.current=t,e){let t=e.getTopmostFrameNode();t&&(r.current=e.nodeScrollBounds(t))}l()}),(0,A.O5)(e,"scrollNode",t=>{if(e){let n=e.getTopmostFrameNode();n&&t===e.nodeId(n)&&(r.current=e.nodeScrollBounds(n),l())}}),(0,A.O5)(e,"canvasResize",l),{getViewport:i,viewportPositionToPrototypeCanvas:s}}function eU(e,t,n){let r=n?.prototypeStartingPointsData(),o=n?.getActivePrototypeStartingPointNodeId();a.useEffect(()=>{let n=e.pages.find(t=>t.nodeId===e.currentPageId);if(n){var a;a=n.name,e7()&&window.parent.postMessage({type:"EMBED_PROTO_FILE_METADATA",data:{fileName:t,pageName:a,startingPointsData:r,activeStartingPointNodeId:o}},"*")}},[t,e.pages,e.currentPageId,r,o])}function eH(e){if(e7()&&e&&e.height>0){let t=e.width/e.height;t&&window.parent.postMessage({type:"EMBED_PROTO_ASPECT_RATIO",data:{aspectRatio:t}},"*")}}function eV(e){e7()&&window.parent.postMessage({type:"EMBED_PROTO_DEVICE",data:{device:e}},"*")}function eW(e,t,n){a.useEffect(()=>{let a,r,o,l;if(!e||b.Ay.mobile)return;let i=(n?.presetIdentifier?.length||0)>0;"scale-down-width"!==t&&"fit-width"!==t&&("min-zoom"!==t||i)?(a=12,r=12,o=54,l=54):(a=0,r=0,o=0,l=0),e.setScrollPadding({left:a,right:r,top:o,bottom:l})},[e,t,n])}function ez(){return(0,r.d4)(e=>!!("prototype"===e.selectedView.view&&e.selectedView.inlinePreview))}function e$(e,t){let n=(0,el.aq)(),r=a.useCallback(()=>{t&&n()&&(eI()?window.location.replace("/404"):g.Ay.redirect("/404"))},[t,n]);(0,A.O5)(e,"redirectingToFirstPageDueToInvalidStartNode",r)}function eK(e,t){let n=(0,r.wA)(),o=a.useCallback((0,d.s)(()=>{t&&n(B.F.enqueue({type:"Symbol",get message(){return(0,L.t)("viewer.popup.couldn_t_play_interaction_nested_instance_is_swapped_with_its_parent_instance")},error:!1}))},200),[]);(0,A.O5)(e,"stateSwapFailedDueToCycle",o)}let eZ=S.lQ;function eq(e){return e&&"PRESET"===e}var eY=(e=>(e.UNKNOWN="UNKNOWN",e.ACTUAL_SIZE="ACTUAL_SIZE",e.FIT_TO_SCREEN="FIT_TO_SCREEN",e.FIT_WIDTH="FIT_WIDTH",e.FILL_SCREEN="FILL_SCREEN",e.RESPONSIVE="RESPONSIVE",e))(eY||{});let eQ={4:["ACTUAL_SIZE","FIT_TO_SCREEN","FIT_WIDTH","FILL_SCREEN","RESPONSIVE"],0:["FILL_SCREEN","ACTUAL_SIZE","FIT_TO_SCREEN","FIT_WIDTH","RESPONSIVE"],2:["ACTUAL_SIZE","RESPONSIVE","FIT_WIDTH","FIT_TO_SCREEN","FILL_SCREEN"],3:["ACTUAL_SIZE","FIT_TO_SCREEN","FIT_WIDTH","RESPONSIVE","FILL_SCREEN"],1:["FIT_TO_SCREEN","FILL_SCREEN","ACTUAL_SIZE","RESPONSIVE","FIT_WIDTH"]},eG={ACTUAL_SIZE:{viewportScalingMode:"min-zoom",contentScalingMode:"fixed"},FIT_TO_SCREEN:{viewportScalingMode:"scale-down",contentScalingMode:"fixed"},FIT_WIDTH:{viewportScalingMode:"scale-down-width",contentScalingMode:"fixed"},FILL_SCREEN:{viewportScalingMode:"contain",contentScalingMode:"fixed"},RESPONSIVE:{viewportScalingMode:"contain",contentScalingMode:"responsive"}};function ej(e){return"RESPONSIVE"===e?"responsive":eG[e]?.viewportScalingMode||"unknown"}function eJ(e){switch(e.viewportScalingMode){case"scale-down":return"FIT_TO_SCREEN";case"scale-down-width":return"FIT_WIDTH";case"min-zoom":return"ACTUAL_SIZE";case"contain":if("fixed"===e.contentScalingMode)return"FILL_SCREEN";return"RESPONSIVE";default:return"UNKNOWN"}}function eX(e){return"UNKNOWN"===e?eG.ACTUAL_SIZE:eG[e]}function e0(e,t){for(let n of t){let t=!n.scalingInfo.viewportScalingMode||n.scalingInfo.viewportScalingMode===e.viewportScalingMode,a=!n.scalingInfo.contentScalingMode||n.scalingInfo.contentScalingMode===e.contentScalingMode;if(t&&a)return n.scalingOptionId}return"UNKNOWN"}function e1(e,t){let n=eQ[t??4];return eq(e)&&(n=["FIT_TO_SCREEN","FILL_SCREEN","ACTUAL_SIZE"]),n.map(t=>{let n={scalingOptionId:t,scalingInfo:{}};return eq(e)?n.scalingInfo.viewportScalingMode=eX(t).viewportScalingMode:n.scalingInfo=eX(t),n})}function e5(e,t){switch(e){case"ACTUAL_SIZE":return t?(0,L.t)("viewer.options_menu.actual_size_100_with_device",{zoomAmount:100}):(0,L.t)("viewer.options_menu.actual_size_100",{zoomAmount:100});case"FIT_TO_SCREEN":return t?(0,L.t)("viewer.options_menu.fit_to_screen_with_device"):(0,L.t)("viewer.options_menu.fit_width_and_height");case"FIT_WIDTH":return(0,L.t)("viewer.options_menu.fit_width");case"FILL_SCREEN":return t?(0,L.t)("viewer.options_menu.fill_screen_with_device"):(0,L.t)("viewer.options_menu.fill_screen");case"RESPONSIVE":return(0,L.t)("viewer.options_menu.responsive");default:return""}}function e2(){let e=(0,y.v7)();switch(e){case ee.aTn.GERMAN:return{key:"^",code:X.y.isIntlBacklashAndBackquoteSwapped()?"IntlBackslash":"Backquote"};case ee.aTn.SWEDISH:case ee.aTn.FINNISH:case ee.aTn.UK_MAC:return{key:"\xa7",code:X.y.isIntlBacklashAndBackquoteSwapped()?"IntlBackslash":"Backquote"};case ee.aTn.UK_PC:return{key:"`",code:X.y.isIntlBacklashAndBackquoteSwapped()?"IntlBackslash":"Backquote"};case ee.aTn.DANISH:return{key:"$",code:X.y.isIntlBacklashAndBackquoteSwapped()?"IntlBackslash":"Backquote"};case ee.aTn.NORWEGIAN:return b.Ay.mac?{key:"'",code:X.y.isIntlBacklashAndBackquoteSwapped()?"IntlBackslash":"Backquote"}:{key:"|",code:X.y.isIntlBacklashAndBackquoteSwapped()?"IntlBackslash":"Backquote"};case ee.aTn.PORTUGUESE:return b.Ay.mac?{key:"\xa7",code:X.y.isIntlBacklashAndBackquoteSwapped()?"IntlBackslash":"Backquote"}:{key:"\\",code:X.y.isIntlBacklashAndBackquoteSwapped()?"IntlBackslash":"Backquote"};case ee.aTn.SPANISH:return{key:"\xba",code:X.y.isIntlBacklashAndBackquoteSwapped()?"IntlBackslash":"Backquote"};case ee.aTn.SPANISH_LATAM:return{key:"|",code:X.y.isIntlBacklashAndBackquoteSwapped()?"IntlBackslash":"Backquote"};case ee.aTn.FRENCH_AZERTY:return{key:"@",code:X.y.isIntlBacklashAndBackquoteSwapped()?"IntlBackslash":"Backquote"};case ee.aTn.HIRAGANA_KANA:return{key:"@",code:"BracketLeft"};case ee.aTn.KOREAN:return{key:"\u20A9",code:X.y.isIntlBacklashAndBackquoteSwapped()?"IntlBackslash":"Backquote"};case ee.aTn.ITALIAN:return{key:"\\",code:X.y.isIntlBacklashAndBackquoteSwapped()?"IntlBackslash":"Backquote"};case ee.aTn.US_QWERTY:case ee.aTn.UNKNOWN:case ee.aTn.DVORAK:case ee.aTn.CHINESE:return null;default:return(0,s.xb)(e)}}function e6(){let e=e2()?.key;return null!=e?e:`${b.Ay.mac?"\u2318":"Ctrl"}\\`}function e9(e){try{new URL(e)}catch(e){return!1}var t=window.location.origin;return e.startsWith(t+"/proto")}let e4="embedded-prototype-";function e7(){if(window!==top)try{let e=parent.document.getElementsByTagName("iframe");for(let t=0;t<e.length;t++)if(e[t].contentWindow===window&&e[t].id.startsWith(e4))return!0}catch(e){}return!1}function e8(){let e=(0,r.wA)(),t=(0,h.md)(ew.Md);a.useEffect(()=>{t.status===ew.z2.LOADED&&e(K.ku({showProgress:!1}))},[e,t])}let e3=null;function te(e,t,n,d,h,_,w,y,I,S){let C=(0,r.wA)(),k=(0,r.d4)(e=>e.comments),O=t.inlinePreview,[F,M]=a.useState(!1);a.useEffect(()=>{(0,P.kF)("editorType",t.file.editor_type||"unknown")},[t.file.editor_type]);let U=(0,A.ur)("PROTOTYPE",e,{workerURL:Fig.tsViewerWorkerURL,connectionRole:O?"viewer":"prototype",scrollToPan:!eI()||null!=(0,N.qg)(g.Ay.location.search).fullscreen,featureFlags:(0,E.kc)(),trackAnalyticsEvent:l.sx,definedAnalyticsHandler:l.az,appTimerStart:e=>{i.rH.start(`viewer:${e}`),"rendererDraw"===e&&(0,ew.AH)()&&R.Su.handleDocumentRenderStart()},appTimerStop:e=>{i.rH.stop(`viewer:${e}`),"rendererDraw"===e&&(0,ew.AH)()&&(M(!0),R.Su.handleDocumentRenderStop())},nextFrame:e=>{o.fZb&&o.fZb.nextFrame&&o.fZb.nextFrame(e)},startProfile:(e,t)=>!!o.fZb&&!!o.fZb.startProfile&&o.fZb.startProfile(e,t),stopProfile(e){o.fZb&&o.fZb.stopProfile&&o.fZb.stopProfile(e)},trackingSessionId:(0,E.Ay)().tracking_session_id||null,deviceInfoByIdentifier:Z.hY,bowser:b.Ay,gameControllerListener:A.l9,interactionTestState:(0,x.Ns)()?"RECORD":(0,x.nl)()?"PLAYBACK":"NONE",disablePrototypeDeviceFrames:b.rr||O,isInlinePreview:O,isSlidesEmbed:e7(),forceMobileOptimizations:t.mobileOptimizations,kiwiSchema:T.w});a.useEffect(()=>{if(U)return O||window.focus(),()=>U.reset()},[O,U,t.showDebugStats]),function(e,t,n,o,l){let i=(0,el.aq)(),s=(0,r.wA)(),d=(0,er.tS)()||"",u=a.useRef(-1),f=a.useRef(!1);a.useEffect(()=>{e&&u.current<0&&(u.current=Date.now())},[e]);let g=a.useCallback(e=>{let a;if(f.current)return;let{baseScreenHeight:r,baseScreenWidth:o,deviceSizeWidth:i,deviceSizeHeight:c,...p}=e;i&&c&&(o<i||r<c?a="smaller":o>i?a="bigger":o===i&&r>=c&&(a="same"));let m={mobile:b.Ay.mobile,hasConnections:0!==e.numTransitions,scalingMode:t.viewportScalingMode,contentScalingMode:t.contentScalingMode,urlHideUI:!!n.hideUI,numAnimatedTransitions:e.numTransitionsWithAnimation,timeSinceViewerCreatedMs:Date.now()-u.current,baseScreenHeight:e.isInlinePreview?void 0:r,baseScreenWidth:e.isInlinePreview?void 0:o,windowWidth:window.innerWidth,windowHeight:window.innerHeight,contentSizeComparedToDeviceSize:a,...p,productType:l,fileKey:d};s((0,eu.Zh)({name:"prototype.prototype_viewed",params:m})),n.hideUI&&s((0,eu._P)({name:"Prototype Hide UI",params:{hide:!0}})),f.current=!0},[s,t,n.hideUI,l,d]),E=a.useCallback(async()=>{if(!e||eI()||"design"!==n.file.editor_type)return;let t=e.getNodesToShowInPrototype()[0],a=t?e.pageIdForNodeId(t):null;await c.Lb(),await new Promise(e=>setTimeout(e,4e3)),i()&&s(K.Q9({fileKey:n.file.key,pageId:a||""}))},[i,s,e,n.file.key,n.file.editor_type]),h=(0,en.Jp)(),_=a.useCallback(()=>{h?.handleCompleteInitialLoad&&h.handleCompleteInitialLoad()},[h]),w=(0,v.Xr)(ew.Md),y=a.useCallback(()=>{if((0,P.ED)("Prototype","handleCompletedInitialLoad"),w({type:ew.pb.LOAD_VIEWER_INSTANCE}),j.r.logValue("viewerSceneDidCompleteInitialLoad",Math.round(performance.now())),e){let t=e.getStatsForAnalytics();(0,x.PN)()||(0,Q._I)(t.isHardwareAccelerationDisabled,s),g(t)}E(),_();try{e7()&&e&&window.parent.postMessage({type:"PRESENTER_SESSION_ID",data:{sessionId:e.userSessionId()}},"*")}catch(e){}(0,p.jc)()&&(0,m.n)()},[e,E,g,_,s,w]),[I,S]=a.useState(!1);a.useEffect(()=>{o&&I&&R.Su.handleDocumentIsLoaded()},[o,I]);let N=a.useCallback(()=>{window.DebuggingHelpers&&(window.DebuggingHelpers.documentIsLoaded=!0),S(!0)},[]);(0,A.O5)(e,"sceneDidCompleteInitialLoad",y),(0,A.O5)(e,"documentIsLoaded",N)}(U,n,t,F,S),function(e){let t=(0,r.wA)(),n=(0,eo._6)(),o=a.useCallback(e=>{t(K.Mo({color:e||ef.o}))},[t]);(0,A.O5)(e,"prototypeBackgroundColorChange",o),a.useEffect(()=>{e&&void 0!==n.backgroundColorHex&&e.setPrototypeBackgroundColorOverride(n.backgroundColorHex)},[e,n.backgroundColorHex])}(U),function(e,{viewportScalingMode:t,contentScalingMode:n}){a.useEffect(()=>{e?.setScalingMode({viewportScalingMode:t,contentScalingMode:n})},[e,t,n])}(U,n),function(e,t){let n=(0,r.wA)();(0,A.O5)(e,"disengageObservationMode",()=>eC(e,t,n))}(U,d),function(e,t){let n=(0,r.wA)(),o=a.useRef("none"),l=a.useCallback(e=>{o.current!==t&&(o.current=t,n((0,eu._P)({name:"Prototype Zoom Attempted",params:{scalingMode:t,method:e}})))},[n,t]);a.useEffect(()=>{e?.setUserDidAttemptZoom(l)},[e,l])}(U,n.viewportScalingMode),function(e,t){let[n]=a.useState(()=>new ed.k("Prototype Page Query"));a.useEffect(()=>{n.setFileKey(t)},[t,n]),(0,A.O5)(e,"incrementalLoadingInfo",n.logEvent)}(U,t.file.key),function(e,t){let n=(0,r.wA)(),o=a.useCallback(e=>{e=e||{observingSessionID:t.observingSessionID,presenterSessionID:t.presenterSessionID,followerCount:t.followerCount,sessionID:t.sessionID,allUsers:[],sessionNominatedByCurrentUser:null,sessionsNominatingCurrentUser:[]},n($.J4(e))},[n,t]);(0,A.O5)(e,"multiplayerUserInfoChange",o)}(U,d),function(e,t){let n=(0,r.wA)(),o=a.useCallback(e=>{if(t.key!==e.fileKey)throw Error("Navigating to unexpected file");n(z.$T({view:"prototype",file:t,nodeId:e.guid})),g.Ay.reload("Navigate to prototype")},[n,t]);(0,A.O5)(e,"navigateToPrototype",o)}(U,t.file),function(e){let t=(0,r.wA)(),n=a.useCallback(()=>{t(B.F.enqueue({get message(){return(0,L.t)("viewer.popup.one_or_more_images_in_this_prototype_failed_to_load")},type:"image-fetch-failure-ui",button:{text:(0,L.t)("viewer.popup.learn_why"),action:()=>{g.Ay.unsafeRedirect("https://help.figma.com/hc/articles/360052988373#Prototype_images",b.Ay.mobile?void 0:"_blank")}}}))},[t]);(0,A.O5)(e,"showImageFetchFailureUI",n)}(U),(0,A.O5)(U,"urlClicked",async e=>{let t=e9(e.url);if(u.eD&&t){let t=await u.eD.isTabOpen(e.url);e.openInNewWindow||t||u.eD?.close({suppressReopening:!1,shouldForceClose:!1}),g.Ay.postRedirect(e.url,"_blank")}else c.jJ(e)}),(0,A.O5)(U,"loadVideoJsLib",async()=>{await (0,D.Fe)().then(e=>{U&&U.injectVideoJsLib(e)})}),function(e){let[t,n]=a.useState(!1),o=(0,r.wA)(),l=a.useCallback(()=>{t||o(B.F.enqueue({type:"missing_font_updated_prototype",get message(){return(0,L.t)("viewer.popup.some_missing_fonts_were_replaced")},error:!1})),n(!0)},[o,t,n]);(0,A.O5)(e,"missingOrLocalFontsDetected",l)}(U),function(e){let t=(0,r.wA)(),n=a.useCallback(()=>{if(!e)return;let n=e.getPages().map(e=>((0,s.KF)(!!e.id&&!!e.name,"Either page id or name is not set"),{nodeId:e.id,name:e.name})),a=e.getNodesToShowInPrototype()[0],r=a?e.pageIdForNodeId(a):null;t(K.$9({pages:n})),t(K.uh({currentPageId:r}))},[t,e]);(0,A.O5)(e,"pagesChange",n),(0,A.O5)(e,"baseScreenChanged",n)}(U),function(e,t){let n=(0,r.wA)();a.useEffect(()=>g.Ay.listen(e=>{"POP"===e&&eD()}),[]),a.useEffect(()=>{e&&e.hasActiveScene()&&eO&&(eO=!1,t.startingPointNodeId&&e.getActivePrototypeStartingPointNodeId()!==t.startingPointNodeId&&(e.setActivePrototypeStartingPointNodeId(t.startingPointNodeId),e.restartPrototype()),t.nodeId&&e.getBaseScreenId()!==t.nodeId&&e.navigateToFrameAndCloseOverlaysOrRestart(t.nodeId))},[e,t.nodeId,t.startingPointNodeId]);let o=a.useCallback(t=>{if(!e)return;let a=e.getActivePrototypeStartingPointNodeId();t.updateURL&&n(eA({nodeId:t.nodeId,startingPointNodeId:a,forceReplaceState:t.repairsInvalidState}))},[e,n]);(0,A.O5)(e,"baseScreenChanged",o)}(U,t),a.useEffect(()=>{U?.setObservingSessionID(d.observingSessionID),"slides"===t.file.editor_type&&U?.setDisengageObservationOnClick(d.observingSessionID===-1)},[U,d.observingSessionID,t.file.editor_type]),a.useEffect(()=>{U?.setShowHotspots(!!h)},[U,h]),a.useEffect(()=>{U?.setShowDeviceFrame(!!_)},[U,_]),a.useEffect(()=>{U?.setShowBareUI(e7())},[U]),a.useEffect(()=>{U?.setTransitionOnClick(!w),U?.setDragToPan(!w)},[U,w]),a.useEffect(()=>{if(U&&null!=(0,A.R4)()){let e=(0,A.R4)();e&&U.setMockEmbedListener(e)}},[U]),a.useEffect(()=>(U&&(e3=new f._f(t.file.key,S)).setViewer(U),()=>{e3?.uninstall()}),[U,t.file.key,S]);let H=a.useRef(t.file.key||null);return J.Ts("Prototype Periodic Metrics",()=>H.current,()=>S),(0,A.O5)(U,"sceneWillRebuildAfterReconnecting",()=>{C(K.AF({isReconnecting:!0}))}),(0,A.O5)(U,"sceneDidRebuildAfterReconnecting",()=>{C(K.AF({isReconnecting:!1}))}),(0,A.O5)(U,"baseScreenChanged",e=>{(0,l.sx)("Prototype Viewer Base Screen Changed",{nodeId:e.nodeId,editorType:t.file.editor_type,isSymbol:e.isSymbol})}),!function(e,t,n,o,l){let i=a.useCallback(e=>{n&&Y.lS.handleMouseDown(e.x,e.y)},[n]);(0,A.O5)(e,"canvasMouseDown",i);let c=a.useCallback(e=>{n&&Y.lS.handleMouseUp(e.x,e.y)},[n]);(0,A.O5)(e,"canvasMouseUp",c);let d=a.useCallback(e=>{n&&Y.lS.handleMouseMove(e.x,e.y)},[n]);(0,A.O5)(e,"canvasMouseMove",d),(0,A.O5)(e,"canvasMouseDrag",d);let u=(0,eo._6)(),p=(0,r.wA)(),m=a.useRef(!1),f=a.useRef(!0),g=a.useCallback(()=>{let t=u.commentThreadId;e?.hasActiveScene()&&(e?.getNodesToShowInPrototype().length||0)>0&&t&&!m.current&&f.current?((0,s.KF)(!!l,"We shouldn't be trying to show comments for anonymous users."),m.current=!0,f.current=!1,p(K._b())):"-1"===t&&!m.current&&l&&(m.current=!0,p(K._b()))},[p,e,u.commentThreadId,l]);(0,A.O5)(e,"sceneDidCompleteInitialLoad",g);let E=a.useRef(""),h=a.useCallback(e=>{e.nodeId!==E.current&&t.activeThread&&p(V.UU()),E.current=e.nodeId},[p,t.activeThread]);(0,A.O5)(e,"baseScreenChanged",h)}(U,k,w,0,I),eZ(U),!function(e,t,n){let o=(0,r.wA)(),l=eS(e,t),i=(0,eo._6)(),s=a.useCallback(t=>{("prototype"!==i.view||"slides"!==i.file.editor_type)&&l(t)&&eC(e,n,o)},[l,e,n,o,i]);(0,A.O5)(e,"canvasMouseDown",s),(0,A.O5)(e,"canvasTouchDown",s)}(U,e,d),U}function tt(e){let t=(0,v.Xr)(ew.Md);R.Su.handleLivegraphConnectionOpened();let n=function(e,t){let n=(0,I.Rs)(es.kJx,{fileKey:e}),a=(0,r.d4)(e=>e.modalShown?.type===eE.M);if((0,eh.ox)({file:t}),"loaded"!==n.status)return null;let o=n.data.file;if(a)return null;if(!o)return g.Ay.reload("lost access to file"),null;let{canViewPrototype:l,canView:i}=o;return{file:{key:o.key,name:o.name,prototypeUrl:`${window.location.origin}/proto/${o.key}/${(0,k.sy)(o.name)}`,touchedAt:o.updatedAt.toISOString(),teamId:o.teamId,folderId:o.folderId,editorType:o.editorType,canView:o.canView,canEdit:o.canEdit,canViewPrototypeAndNotFile:l&&!i}}}(e.file.key,{key:e.file.key,fileRepoId:e.file.file_repo_id,sourceFileKey:e.file.source_file_key}),o=!!n;return a.useEffect(()=>{o&&(t({type:ew.pb.LOAD_LIVEGRAPH}),R.Su.handleLivegraphConnectionResponded())},[o,t]),n}let tn=(0,_.eU)(4)},620430:(e,t,n)=>{n.d(t,{d:()=>v,X:()=>h});var a=n(411855),r=n(139689),o=n(629019),l=n.n(o),i=n(175515),s=n(574176),c=n(762638),d=n(457630),u=n(754209),p=n(601607);let m="viewer_reactions--emote--4N0b6";var f=n(282713);let g=["https://static.figma.com/uploads/d1e0d7ed5e1aa13e8854dbd88b9fd650377a02f2","https://static.figma.com/uploads/a83de90bf34495081ce2e8bcaf28d1d2c16e5186","https://static.figma.com/uploads/0606e9d967b5abb6d9a2853c2fff589f2ec2fc05","https://static.figma.com/uploads/ffd0635e8f9322352eff0c15411ac0b536b98d87","https://static.figma.com/uploads/ff5be810b821d264cc2c95f665d24a867c34e587","https://static.figma.com/uploads/78f60a21d2616c2a24c7645d8636dec855e48ffb","https://static.figma.com/uploads/1429964104bceac90c5c8e731ce4cc50b27e2797"];function E({viewportInfo:e,reactionInfo:t}){let n=(0,a.useRef)(Math.random()),r=(0,p.x3)((e,t)=>{let n=e.getPrototypeNode(t);return n?e.nodeCanvasSpaceBounds(n):null},t.slideId),o={x:(r?.x??0)+n.current*((r?.width??1920)-200)+100,y:0},l=(0,d.Z0)(e,o);l.y=window.innerHeight;let[i]=(0,a.useState)(.5*Math.random()+2),[s]=(0,a.useState)(.4*Math.random()+.3),c={animationDuration:`${i.toFixed(1)}s`},u={animationDuration:`${s.toFixed(1)}s`},{x:m,y:f}=l;m-=5,f-=10;let[g]=(0,a.useState)(1*Math.random()+.5),E={willChange:"transform",transform:`translate3D(${0|m}px, ${0|f}px, 0) scale(${g})`},[h]=(0,a.useState)(Math.random()>.5?"viewer_reactions--forward--RkSy2":"viewer_reactions--backward--rBYvx");return a.createElement("div",{className:"viewer_reactions--translationContainer--0J13w",style:E},a.createElement("div",{className:"viewer_reactions--floatingEmojiContainer--gHWxI",style:c},a.createElement("img",{src:t.reactionId,className:`viewer_reactions--floatingEmoji--35P7j ${h}`,style:u,alt:""})))}function h({getViewport:e,multiplayerCursorsEnabled:t,viewer:n}){let r=(0,u.KP)(),[o,l]=(0,a.useState)({});if((0,i.O5)(n,"multiplayerUserInfoChange",()=>{n&&l(n.getReactionsBySessionId())}),!n)return null;let s=Object.keys(o);return a.createElement("div",{className:c.cx.absolute.overflowHidden.wFull.hFull.$},a.createElement("div",{className:c.cx.relative.wFull.hFull.$},s.map(n=>{let l=o[n],i=Object.keys(l);return n===`${r}`||t?a.createElement(a.Fragment,{key:n},i.map(t=>{let n=l[t];return a.createElement(E,{key:t,viewportInfo:e(),reactionInfo:n})})):null})))}function v({viewer:e}){let[t,n]=(0,a.useState)(!1);return e?a.createElement("div",{className:l()({"viewer_reactions--emotesContainerAnimatedVisible--Qk-xB":t},"viewer_reactions--emotesContainerAnimated---8WjC")},a.createElement("div",{className:"viewer_reactions--emotesContainer---4W8L"},a.createElement("button",{onClick:()=>{n(!t)},className:l()({"viewer_reactions--emojiEmote--h5fwm":!t},m)},t?a.createElement(r.A,null):a.createElement(s.B,{svg:f.A,autosize:!0})),g.map((n,r)=>a.createElement("button",{key:n,onClick:()=>{e.sendReaction(n)},style:{backgroundImage:`url(${n})`,transitionDelay:t?`${.01*r}s`:"0s"},className:l()({"viewer_reactions--emoteHidden--JQMxY":!t},m)})))):null}},201242:(e,t,n)=>{n.d(t,{PX:()=>x,RN:()=>F,gA:()=>O,hJ:()=>T,mt:()=>P,wi:()=>N,xy:()=>A});var a=n(411855),r=n(755020),o=n(341450),l=n(747638),i=n(629019),s=n.n(i),c=n(966712),d=n(563706),u=n(153234),p=n(522739),m=n(574176),f=n(762638),g=n(939863),E=n(938908),h=n(947640),v=n(620430),_=n(347127),w=n(913854),y=n(18301),I=n(717682),S=n(942723),b=n(214735);function N(e){let{dispatch:t,shouldShowUI:n,viewer:r,editorType:o}=e;a.useEffect(()=>{t(E.y3({isFooterVisible:n}))},[t,n]);let l=(0,_.f)(o)&&(0,c.kc)().piper_viewer_emotes;return a.createElement("div",{className:n?w.qr:w.OH,role:"navigation","aria-label":(0,g.t)("viewer.footer.accessible_label")},l&&a.createElement(v.d,{viewer:r}),a.createElement("div",{className:w.c0},a.createElement(h.y,{viewer:r})),a.createElement("div",{className:w.Pj},a.createElement(O,{navigateForwardEnabled:e.navigateForwardEnabled,navigateBackwardEnabled:e.navigateBackwardEnabled,shouldShowFrameCounter:e.shouldShowFrameCounter,frameCount:e.frameCount,currentFrameIndex:e.currentFrameIndex,showPreviousFrame:e.showPreviousFrame,showNextFrame:e.showNextFrame,backIcon:y.A,nextIcon:S.A,recordingKey:e.recordingKey,optionsMenu:e.optionsMenu,showNavigationInMobile:(0,_.f)(o)})),a.createElement("div",{className:w.nf},a.createElement(D,{onClick:e.restartPrototype,recordingKey:u.Pt(e,"replayButton")})))}let C=null;function P(){return C}function k(){let e=(0,a.useRef)(null),t=(0,a.useRef)(null);return a.useEffect(()=>{let n={duration:200};function a(e){return[{transform:"translate3D(0px, 0, 0)"},{transform:`translate3D(${e}px, 0, 0)`},{transform:"translate3D(0px, 0, 0)"}]}return C={animateBack:()=>{null!==e.current&&e.current.animate(a(-4),n)},animateNext:()=>{null!==t.current&&t.current.animate(a(4),n)}},()=>{C=null}},[t,e]),{prevRef:e,nextRef:t}}function T(e){let{prevRef:t,nextRef:n}=k(),r=e.navigateBackwardEnabled?w.ij:w.S$,o=e.navigateForwardEnabled?w.Uz:w.cp,l=e.navigateForwardEnabled||e.navigateBackwardEnabled,i=(e.showNavigationInMobile||!d.rr)&&l,s=a.createElement(x,{forwardedRef:t,onClick:e.showPreviousFrame,recordingKey:u.Pt(e,"backButton"),label:(0,g.t)("viewer.footer.previous_frame"),disabled:!e.navigateBackwardEnabled,tabIndex:0,svg:a.createElement(m.B,{className:r,svg:e.backIcon})}),c=a.createElement(x,{forwardedRef:n,onClick:()=>e.showNextFrame?.(),recordingKey:u.Pt(e,"nextButton"),label:(0,g.t)("viewer.footer.next_frame"),disabled:!e.navigateForwardEnabled,tabIndex:0,svg:a.createElement(m.B,{className:o,svg:e.nextIcon})});return a.createElement("div",{className:e.containerClassName},i&&s,!!e.shouldShowFrameCounter&&a.createElement("div",{role:"status","aria-live":"polite","aria-label":(0,g.t)("viewer.footer.readable_frame_progress",{currentFrameIndex:e.currentFrameIndex+1,frameCount:e.frameCount}),className:e.frameCounterTextClassName},(0,g.tx)("viewer.footer.frame_progress",{currentFrameIndex:e.currentFrameIndex+1,frameCount:e.frameCount})),i&&c,e.optionsMenu&&a.createElement(a.Fragment,null,(i||e.shouldShowFrameCounter)&&a.createElement("div",{className:w.K5}),e.optionsMenu))}function x({onClick:e,recordingKey:t,label:n,svg:r,tabIndex:o,forwardedRef:l,disabled:i=!1}){let s=w.QY;return a.createElement(p.GG,{className:s,disabled:i,onClick:e,"aria-label":n,recordingKey:t,tabIndex:o,forwardedRef:l,"data-fullscreen-intercept":!0},r)}function O(e){return a.createElement(T,{navigateBackwardEnabled:e.navigateBackwardEnabled,navigateForwardEnabled:e.navigateForwardEnabled,shouldShowFrameCounter:e.shouldShowFrameCounter,frameCount:e.frameCount,currentFrameIndex:e.currentFrameIndex,showPreviousFrame:e.showPreviousFrame,showNextFrame:e.showNextFrame,backIcon:e.backIcon,nextIcon:e.nextIcon,containerClassName:e.containerClassName||w.m8,frameCounterTextClassName:w.d6,recordingKey:e.recordingKey,optionsMenu:e.optionsMenu,showNavigationInMobile:e.showNavigationInMobile})}function D(e){return a.createElement(p.GG,{className:w.cQ,onClick:e.onClick,recordingKey:e.recordingKey},a.createElement(m.B,{svg:I.A}),a.createElement("div",null,(0,g.tx)("viewer.footer.restart")," ",a.createElement("span",{className:w.lE},(0,g.tx)("viewer.footer.r"))))}function A(e){return a.createElement(p.D8,{className:e.className,onClick:e.onClick,recordingKey:e.recordingKey},a.createElement(m.B,{svg:b.A,className:w.t$}),a.createElement("div",null,(0,g.tx)("viewer.footer.restart")," ",a.createElement("span",{className:w.lE}," ",(0,g.tx)("viewer.footer.r"))))}function F({navigateForwardEnabled:e,navigateBackwardEnabled:t,shouldShowFrameCounter:n,frameCount:i,currentFrameIndex:c,showPreviousFrame:d,showNextFrame:u,restartPrototype:p}){let m=a.useRef(null),{prevRef:E,nextRef:h}=k(),v=a.createElement(x,{forwardedRef:E,onClick:d,label:(0,g.t)("viewer.footer.previous_frame"),disabled:!t,tabIndex:0,svg:a.createElement(r.C,{className:s()(!t&&w.dY)})}),_=a.createElement(x,{forwardedRef:h,onClick:()=>u?.(),label:(0,g.t)("viewer.footer.next_frame"),disabled:!e,tabIndex:0,svg:a.createElement(o.e,{className:s()(!e&&w.dY)})});return a.createElement("div",{ref:m,className:f.cx.absolute.bottom0.wFull.flex.justifyCenter.pb16.h24.$},a.createElement("div",{className:f.cx.flex.itemsCenter.gap1.flexShrink0.bRadius5.colorBg.elevation100.$},a.createElement("div",{className:f.cx.flex.itemsCenter.$},v,!!n&&a.createElement("div",{role:"status","aria-live":"polite","aria-label":(0,g.t)("viewer.footer.readable_frame_progress",{currentFrameIndex:c+1,frameCount:i}),className:w.Ak},(0,g.tx)("viewer.footer.frame_progress",{currentFrameIndex:c+1,frameCount:i})),_),a.createElement("div",{className:f.cx.colorBgToolbarTertiary.itemSelfStretch.w1.$}),a.createElement(x,{onClick:p,label:(0,g.t)("viewer.footer.restart"),tabIndex:0,svg:a.createElement(l.H,null)})))}},694111:(e,t,n)=>{n.d(t,{W:()=>r});let a=["APPLE_IPHONE_14_PRO","APPLE_IPHONE_14_PLUS","APPLE_IPHONE_15","APPLE_WATCH_45MM"],r=e=>a.some(t=>e.startsWith(t))},276625:(e,t,n)=>{n.d(t,{e:()=>a});function a(e,t,n){""!==n&&(e.delete(t),"starting-point-node-id"===t&&(e.delete("node-id"),e.append("node-id",n)),e.append(t,n))}},835510:(e,t,n)=>{n.d(t,{Z:()=>eL,v:()=>eR});var a=n(598045),r=n(411855),o=n(341860),l=n(601607);function i(e){return function({nodeId:t,isReadOnly:n}){let a=(0,r.useCallback)((e,n)=>{let a=o.q.instance.get(t);a&&a.setInteractiveSlideConfigData(e,n)},[t]),i=(0,r.useCallback)(e=>{let n=o.q.instance.get(t);n&&n.deleteInteractiveSlideConfigData(e)},[t]),s=(0,r.useCallback)((e,n)=>{let a=o.q.instance.get(t);a&&a.setInteractiveSlideParticipantData(e,n)},[t]),c=(0,r.useCallback)(()=>{let e=o.q.instance.get(t);e&&e.resetInteractiveSlideParticipantData()},[t]),d=(0,l.Fk)((e,t)=>{let n=e.get(t);return n?n.interactiveSlideConfigData:null},t),u=(0,l.Fk)((e,t)=>{let n=e.get(t);return n?n.interactiveSlideParticipantData:null},t);return d&&u?r.createElement(e,{configData:d,participantData:u,setConfigData:a,setParticipantData:s,resetParticipantData:c,deleteConfigData:i,isViewer:!1,isPresenter:!1,isReadOnly:n,recordingKey:`flapp.${t}`,nodeId:t}):null}}function s(e){return function({viewer:t,nodeId:n}){let a=(0,l.x3)((e,t)=>{let n=e.getPrototypeNode(t);return n?e.nodeInteractiveSlideConfigData(n):null},n),o=(0,l.x3)((e,t)=>{let n=e.getPrototypeNode(t);return n?e.nodeInteractiveSlideParticipantData(n):null},n);if(!a||!o)return null;let i=(e,n,a)=>{t.setInteractiveSlideConfigData(e,n,a)},s=(e,n,a)=>{t.setInteractiveSlideParticipantData(e,n,a)},c=t.isPresenterSession();return r.createElement(e,{configData:a,participantData:o,setConfigData:(e,t)=>i(n,e,t),setParticipantData:(e,t)=>s(n,e,t),recordingKey:`flapp.${n}`,isViewer:!0,isPresenter:c,nodeId:n,viewer:t})}}var c=n(998917),d=n(861726),u=n(203910),p=n(629019),m=n.n(p),f=n(153234),g=n(659838),E=n(574176),h=n(762638),v=n(939863),_=n(259927),w=n(1469),y=n(662531),I=n(860178),S=n(498606),b=n(858943),N=n(447636);let C="alignment_scale--prompt--D-cNA";var P=n(931136);function k({recordingKey:e,prompt:t,setPrompt:n}){return r.createElement(g.L,{className:m()(C,_.Qx,_.Uu),type:"text",placeholder:(0,v.t)("slides.flapp.alignment.prompt_placeholder"),value:t,onChange:e=>{n(e.target.value)},onPaste:e=>{n(e.clipboardData.getData("text"))},recordingKey:e})}function T({prompt:e}){return r.createElement("p",{className:C},e||(0,v.t)("slides.flapp.alignment.prompt_placeholder"))}function x({configData:e,setConfigData:t,recordingKey:n,participantData:a,promptElement:o,onVoteRequest:l}){var i;let s=(0,I.iZ)(),c=l&&s?(e,t)=>{l({name:s.name,userId:s.id,thumbnailUrl:s.img_url,alignmentXOffsetPercentage:e,alignmentYOffsetPercentage:t,timestamp:Date.now()})}:void 0,[d,u]=(i=s?.id,(0,r.useMemo)(()=>{let e;return a?[Object.values(a).reduce((t,n)=>{try{let a=JSON.parse(n);a.userId===i&&(e=a),t.push(a)}catch(e){}return t},[]).sort((e,t)=>e.timestamp-t.timestamp),e]:[[],void 0]},[a,i])),p="true"===e.resultsShown,g=y.nc.user("slides-toggle-alignment-scale-results-shown",()=>{t("resultsShown",(!p).toString())}),E=(0,N.aF)(e);return r.createElement("div",{className:m()(h.cx.wFull.flex.flexColumn.justifyCenter.itemsCenter.$,"alignment_scale--alignmentScaleThemeWrapper--1VvHW"),"data-preferred-theme":E.preferredTokenTheme,"data-transparency-mode":E.transparentMode},r.createElement("div",{className:"alignment_scale--mainContainer--aIN2p"},r.createElement(O,{prompt:o,allVoteData:d,currentUserVoteData:u}),r.createElement(D,{resultsShown:p,alignmentVoteData:d,onScaleClick:c}),r.createElement(A,null)),r.createElement(R,{recordingKey:f.Pt(n,"slides-alignment-scale-reveal-results"),resultsShown:p,onToggle:g}))}function O({prompt:e,allVoteData:t,currentUserVoteData:n}){return r.createElement("div",{className:"alignment_scale--headerContainer--l688h"},r.createElement("div",{className:"alignment_scale--promptContainer--hRH11 text--fontPos20--Bcz97 text--_fontBase--QdLsd"},e),r.createElement(F,{allVoteData:t,currentUserVoteData:n}))}function D({resultsShown:e,alignmentVoteData:t,onScaleClick:n}){let a=(0,r.useRef)(null),o=n?e=>{let t=e.currentTarget.getBoundingClientRect(),a=e.clientX-t.left,r=e.clientY-t.top;n(a/t.width,r/t.height)}:void 0;return r.createElement("div",{className:"alignment_scale--scaleContainerPseudoBorder--Jj6DE"},r.createElement("div",{className:"alignment_scale--scaleContainerSolidBackground--s4pRF"}),r.createElement(c.E,{className:m()("alignment_scale--scaleContainer--gmwd3",n?h.cx.cursorPointer.$:""),ref:a,onClick:o},r.createElement("div",{className:"alignment_scale--scaleLine--uHC-I"}),r.createElement("div",{className:"alignment_scale--scaleMarkerContainer--X5x-j"},r.createElement("div",{className:"alignment_scale--scaleMarker0--QIykm alignment_scale--_scaleMarker---mTsV"}),r.createElement("div",{className:"alignment_scale--scaleMarker25--3Xe8a alignment_scale--_scaleMarker---mTsV"}),r.createElement("div",{className:"alignment_scale--scaleMarker50--L4exg alignment_scale--_scaleMarker---mTsV"}),r.createElement("div",{className:"alignment_scale--scaleMarker75--Urto8 alignment_scale--_scaleMarker---mTsV"}),r.createElement("div",{className:"alignment_scale--scaleMarker100--AHcJW alignment_scale--_scaleMarker---mTsV"})),e&&a.current?t.map(e=>r.createElement("img",{src:(0,w.p)(e.thumbnailUrl),key:e.userId,alt:e.name,className:"alignment_scale--alignmentScaleVote--zkhC9",style:{left:`${Math.floor(100*e.alignmentXOffsetPercentage)}%`,top:`${Math.floor(100*e.alignmentYOffsetPercentage)}%`,transform:"translate(-15px, -15px)"}})):null))}function A(){return r.createElement("div",{className:"alignment_scale--scaleLabelContainer--HF5-I"},r.createElement("div",{className:"alignment_scale--stronglyDisagreeLabel--1Yzc0 alignment_scale--_labelBase--enfVZ text--fontPos14--OL9Hp text--_fontBase--QdLsd"},(0,v.tx)("slides.flapp.alignment.strongly_disagree_label")),r.createElement("div",{className:"alignment_scale--neutralLabel--qqm5f alignment_scale--_labelBase--enfVZ text--fontPos14--OL9Hp text--_fontBase--QdLsd"},(0,v.tx)("slides.flapp.alignment.neutral_label")),r.createElement("div",{className:"alignment_scale--stronglyAgreeLabel--Dhs7h alignment_scale--_labelBase--enfVZ text--fontPos14--OL9Hp text--_fontBase--QdLsd"},(0,v.tx)("slides.flapp.alignment.strongly_agree_label")))}function F({allVoteData:e,currentUserVoteData:t}){let n,a=e;return t&&(a=[t,...e.filter(e=>e.userId!==t.userId)]),n=0===a.length?(0,v.t)("slides.flapp.results.no_votes_yet"):1===a.length?t?(0,v.t)("slides.flapp.results.single_self_vote"):(0,v.t)("slides.flapp.results.single_other_vote",{person:a[0].name}):t?(0,v.t)("slides.flapp.results.multiple_votes_including_user",{totalVotes:a.length-1}):(0,v.t)("slides.flapp.results.multiple_other_votes",{totalVotes:a.length}),r.createElement("div",{className:"alignment_scale--voteDisplayContainer--upm2F text--fontPos13--xW8hS text--_fontBase--QdLsd"},r.createElement("p",{className:"alignment_scale--description--kxZH3"},n),r.createElement(L,{allVoteData:a,maxToShow:2}))}function L({allVoteData:e,maxToShow:t}){let n=e.length;e.length>t+1&&(n=t);let a=e.slice(0,n),o=e.slice(n),l=o.map(e=>({id:e.userId,handle:e.name,img_url:e.thumbnailUrl}));return r.createElement("div",{className:"alignment_scale--voteProfilesContainer--wbH0G"},a.map(e=>r.createElement("img",{className:"alignment_scale--voteProfile--Um0e6",key:e.userId,alt:e.name,src:(0,w.p)(e.thumbnailUrl),"data-tooltip-type":S.Ib.TEXT,"data-tooltip":e.name})),o.length>0?r.createElement("div",{className:"alignment_scale--overflowVote--KIoww text--fontPos11--2LvXf text--_fontBase--QdLsd","data-tooltip-type":S.Ib.SPECIAL,"data-tooltip":b.c,"data-tooltip-overflow-user-data":JSON.stringify(l)},`+${o.length}`):null)}function R({recordingKey:e,resultsShown:t,onToggle:n}){return r.createElement("div",{className:"alignment_scale--resultToggleContainer--euX1O"},r.createElement(E.B,{className:"alignment_scale--resultToggleContainerSvg--PFGWI",svg:P.A}),r.createElement(c.E,{className:"alignment_scale--resultToggle--alry6 text--fontPos13--xW8hS text--_fontBase--QdLsd",onClick:n,recordingKey:e},t?r.createElement(d.l,null):r.createElement(u.f,null),r.createElement("p",null,t?(0,v.t)("slides.flapp.results.results_shown"):(0,v.t)("slides.flapp.results.results_hidden"))))}let B={EditorFlapp:i(function(e){let{configData:t,setConfigData:n,recordingKey:a}=e,o=r.createElement(k,{recordingKey:f.Pt(a,"slides-alignment-scale-prompt-input"),prompt:t.prompt,setPrompt:e=>{y.l7.user("slides-update-alignment-scale-prompt",()=>{n("prompt",e)})}});return r.createElement(x,{...e,promptElement:o})}),ViewerFlapp:s(function(e){return r.createElement(x,{...e,promptElement:r.createElement(T,{prompt:e.configData.prompt}),onVoteRequest:t=>{y.l7.user("slides-update-alignment-scale-vote",()=>{e.setParticipantData(t.userId,JSON.stringify(t))})}})})};var M=n(934576),U=n(737947),H=n(563706),V=n(175515);function W({configData:e}){let t=(0,V.hk)(),n=(0,M.gD)(e);return r.createElement(M.wL,{deviceFrame:n},r.createElement(M.lu,{isViewer:!0,onClick:()=>{e.url&&t&&U.Ay.redirect(e.url,H.uG?void 0:"_blank")}}))}let z={EditorFlapp:i(M.DR),ViewerFlapp:s(M.E$)},$={EditorFlapp:i(W),ViewerFlapp:s(W)};var K=n(522739),Z=n(880230);function q({prompt:e,setPrompt:t}){return r.createElement(g.L,{className:m()(_.Qx,_.Uu),type:"text",placeholder:(0,v.t)("slides.flapp.facepile.prompt_placeholder"),value:e,onChange:e=>{t(e.target.value)},onPaste:e=>{t(e.clipboardData.getData("text"))},recordingKey:"facepile-prompt-input"})}function Y({prompt:e}){return r.createElement("p",null,e||(0,v.t)("slides.flapp.facepile.prompt_placeholder"))}function Q({isViewer:e,configData:t,participantData:n,promptElement:a,onToggleStampRequest:o}){let l=(0,I.iZ)(),i=function(e,t){if(!e||0===Object.keys(e).length)return{stamps:[],currentUserStamped:!1};let n=!1;return{stamps:Object.values(e).reduce((e,a)=>{try{let r=JSON.parse(a);r.userId===t&&(n=!0),e.push(r)}catch(e){}return e},[]).sort((e,n)=>e.userId===t?-1:n.userId===t?1:e.timestamp-n.timestamp),currentUserStamped:n}}(n,l?.id),s=function(e,t){let{stamps:n,currentUserStamped:a}=e;return 0===n.length?t?(0,v.t)("slides.flapp.facepile.description_click_to_stamp"):(0,v.t)("slides.flapp.results.no_stamps_yet"):1===n.length?a?(0,v.t)("slides.flapp.results.single_self_stamp"):(0,v.t)("slides.flapp.results.single_other_stamp",{person:n[0].name}):a?(0,v.t)("slides.flapp.results.multiple_stamps_including_user",{totalStamps:n.length-1}):(0,v.t)("slides.flapp.results.multiple_other_stamps",{totalStamps:n.length})}(i,e),c=(0,N.aF)(t);return r.createElement("div",{className:m()("facepile--container--k1p6f","facepile--facepileThemeWrapper--dG-S8"),"data-preferred-theme":c.preferredTokenTheme,"data-transparent-mode":c.transparentMode},r.createElement("div",{className:"facepile--prompt--6Xfxz text--fontPos24--YppUD text--_fontBase--QdLsd"},a),r.createElement(G,{isStampingEnabled:e,stampsWithMetadata:i,maxStampsToShow:3,currentUser:l,onToggleStampRequest:o}),r.createElement("p",{className:"facepile--description--SesIh text--fontPos20--Bcz97 text--_fontBase--QdLsd"},s))}function G({isStampingEnabled:e,stampsWithMetadata:t,maxStampsToShow:n,currentUser:a,onToggleStampRequest:o}){let{stamps:l,currentUserStamped:i}=t,s=l.length;l.length>n+1&&(s=n);let c=l.slice(0,s),d=l.slice(s),u=e&&a&&!i;return r.createElement("div",{className:h.cx.flex.gap12.pt36.pb24.itemsCenter.alignCenter.$},c.map(e=>{let t=o&&a&&e.userId===a.id,n={text:e.name,subtext:t?(0,v.t)("slides.flapp.facepile.tooltip.click_to_remove"):void 0};return r.createElement(j,{stamp:e,tooltipToShow:n,onClick:()=>{t&&o(a.id,void 0)},key:`${e.userId}-stamp`})}),d.length>0?r.createElement(J,{overflowStamps:d}):null,r.createElement(X,{previewStamp:u?ee(a):void 0,onClick:()=>{u&&o&&o(a.id,ee(a))}}))}function j({stamp:e,showAsTemporary:t,tooltipToShow:n,onClick:a}){return r.createElement(K.D8,{onClick:a,"data-tooltip-type":S.Ib.TEXT,"data-tooltip":n?.text,"data-tooltip-subtext":n?.subtext,"data-tooltip-offset-y":8},r.createElement("img",{className:m()("facepile--facepileStamp---gzFz facepile--_fixedStampBase--icx6v facepile--_stampBase--eCNDB",t?"facepile--temporary--3lzi6":""),src:(0,w.p)(e.thumbnailUrl),alt:e.name,draggable:!1}))}function J({overflowStamps:e}){let t=e.map(e=>({id:e.userId,handle:e.name,img_url:e.thumbnailUrl}));return r.createElement("div",{className:"facepile--overflowStamp--j3fn3 text--fontPos22--4H4Fc text--_fontBase--QdLsd facepile--_stampBase--eCNDB","data-tooltip-type":S.Ib.SPECIAL,"data-tooltip":b.c,"data-tooltip-overflow-user-data":JSON.stringify(t),"data-tooltip-offset-y":8},r.createElement("p",null,`+${e.length}`))}function X({previewStamp:e,onClick:t}){let[n,a]=(0,r.useState)(!1);return r.createElement(K.D8,{onClick:t,onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1)},e&&n?r.createElement(j,{stamp:e,showAsTemporary:!0}):r.createElement(E.B,{className:"facepile--emptyStamp--KiqZH facepile--_fixedStampBase--icx6v facepile--_stampBase--eCNDB",svg:Z.A}))}function ee(e){return{name:e.name,userId:e.id,thumbnailUrl:e.img_url,timestamp:Date.now()}}let et={EditorFlapp:i(function(e){let t=r.createElement(q,{prompt:e.configData.prompt,setPrompt:t=>{y.l7.user("slides-update-facepile-question",()=>{e.setConfigData("prompt",t)})}});return r.createElement(Q,{...{...e,promptElement:t}})}),ViewerFlapp:s(function(e){return r.createElement(Q,{...{...e,promptElement:r.createElement(Y,{prompt:e.configData.prompt}),onToggleStampRequest:(t,n)=>{y.l7.user("slides-add-user-facepile-stamp",()=>{e.setParticipantData(t,JSON.stringify(n))})}}})})};var en=n(188507),ea=n(902008),er=n(927457),eo=n(881388);let el="poll--question--F1M7f text--fontPos30--N-YT7 text--_fontBase--QdLsd",ei="poll--optionContainer--ds9OS",es="poll--optionContentText---N25s";function ec(e){let t=[];for(let n=0;n<6;n++){let a=e[`option${n}`];void 0!==a&&t.push(a)}return t}function ed({resultsShown:e,setResultsShown:t}){return r.createElement(K.GG,{className:"poll--toggleResultVisibilityButton--mcWJq text--fontPos13--xW8hS text--_fontBase--QdLsd",onClick:()=>t(!e),recordingKey:"resultsButton"},e?r.createElement(r.Fragment,null,r.createElement(d.l,null),(0,v.tx)("slides.flapp.results.results_shown")):r.createElement(r.Fragment,null,r.createElement(u.f,null),(0,v.tx)("slides.flapp.results.results_hidden")))}function eu({totalVotes:e,hasUserVote:t,firstVoteByTimestamp:n}){let a;return a=0===e?(0,v.t)("slides.flapp.results.no_votes_yet"):1===e?t?(0,v.t)("slides.flapp.results.single_self_vote"):n?(0,v.t)("slides.flapp.results.single_other_vote",{person:n.name}):(0,v.t)("slides.flapp.results.multiple_other_votes",{totalVotes:e}):t?(0,v.t)("slides.flapp.results.multiple_votes_including_user",{totalVotes:e-1}):(0,v.t)("slides.flapp.results.multiple_other_votes",{totalVotes:e}),r.createElement("p",null,a)}function ep({votes:e,children:t,isWinningVote:n,isUserVote:a,percentage:o,resultsShown:l,recordingKey:i,onClick:s}){let c=e.map(e=>({id:e.userId,handle:e.name,img_url:e.thumbnailUrl}));return r.createElement("div",{className:ei},r.createElement(K.GG,{className:m()("poll--optionInner--WmnWP",s?"poll--hoverable--uHwKu":""),recordingKey:i,onClick:s,"data-tooltip-type":S.Ib.SPECIAL,"data-tooltip":c.length>0?b.c:void 0,"data-tooltip-overflow-user-data":JSON.stringify(c),"data-tooltip-offset-y":8},l&&r.createElement("div",{className:m()("poll--optionFill--birzf",n?"poll--winning--ZgYy7":""),style:{width:`${o}%`}}),r.createElement("div",{className:"poll--optionContent--XecHh text--fontPos20--Bcz97 text--_fontBase--QdLsd"},t,r.createElement("div",{className:h.cx.flex.gap8.itemsCenter.$},a&&r.createElement(ea.l,{height:"24px",width:"24px"}),l&&r.createElement("span",null,`${o}%`)))))}function em({onClick:e,recordingKey:t}){return r.createElement(K.D8,{className:ei,onClick:e,recordingKey:f.Pt(t,"addOption")},r.createElement("div",{className:m()("poll--newOption--H35l3",{[h.cx.invisible.$]:!e})},r.createElement(er.e,null)))}let ef="slides-update-poll-question",eg="slides-update-poll-option",eE="slides-update-poll-options";function eh({nodeId:e,preferredTheme:t,transparencyMode:n,configData:a,participantData:l,setConfigData:i,setParticipantData:s,deleteConfigData:c,isViewer:d,recordingKey:u}){let p=(0,en.wA)(),E=(0,I.iZ)(),h=a.question||"",w=ec(a),S="true"===a.resultsShown,[b,N]=r.useState(!1),C=r.useMemo(()=>[],[]);(0,r.useEffect)(()=>{if(b&&C.length>0){let e=C.slice(-1)[0];e&&e.current&&e.current.focus()}},[w.length,C,b]);let P=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(d)return;let t=P.current,n=new ResizeObserver(t=>{let n=o.q.instance.get(e);if(n)for(let e of t)y.l7.system("slides-poll-auto-resize",()=>{let t=getComputedStyle(e.target),a=parseFloat(t.paddingTop),r=a+parseFloat(t.paddingBottom)+parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),o=e.contentRect.height+r;n&&o>n.size.y&&(n.size={x:n.size.x,y:o})})});return t&&n.observe(t),()=>{t&&n.unobserve(t)}},[e,d]);let k=y.nc.user(ef,e=>{i("question",e.target.value)}),T=y.nc.user(ef,e=>{i("question",e.clipboardData.getData("text"))}),x=e=>`option${e}`,O=y.nc.user(eg,(e,t)=>{i(x(e),t.currentTarget.value)}),D=y.nc.user(eg,(e,t)=>{i(x(e),t.clipboardData.getData("text"))}),A=y.nc.user(eE,(e,t)=>{e===w.length-1&&("Enter"===t.key&&w.length<6?(i(x(e+1),""),N(!0)):w.length>2&&0===w[e].length&&("Backspace"===t.key||"Delete"===t.key)&&(c&&(c(x(e)),t.preventDefault()),N(!0)))}),F=y.nc.user("slides-update-poll-results-visibility",e=>{i("resultsShown",e?"true":"false")}),{groupedVotes:L,totalVotes:R,votePercentages:B,winningVoteIndices:M,userVoteIndex:U,firstVoteByTimestamp:H}=function(e,t,n){let a;let r=ec(t),o=-1,l=Object.values(n).reduce((t,n)=>{try{let r=JSON.parse(n);r.userId===e&&(o=r.selectedOption),a=a&&a.timestamp>r.timestamp||!a?r:a,t.push(r)}catch(e){}return t},[]).sort((e,t)=>e.timestamp-t.timestamp),i=0,s=r.map((e,t)=>{let n=l.filter(e=>e.selectedOption===t);return i=n.length>i?n.length:i,n}),c=l.length,d=r.map((e,t)=>Math.round(100*(s[t].length/c||0))),u=s.reduce((e,t,n)=>t.length===i&&0!==t.length?[...e,n]:e,[]);return{groupedVotes:s,votePercentages:d,totalVotes:c,winningVoteIndices:u,userVoteIndex:o,firstVoteByTimestamp:a}}(E?.id,a,l),V=y.nc.system("slides-update-poll-votes",e=>{if(!E){p(eo.s.error((0,v.t)("slides.flapp.poll.vote_failure")));return}let t={userId:E.id,name:E.name,thumbnailUrl:E.img_url,timestamp:Date.now(),selectedOption:e};s(t.userId,JSON.stringify(t))});return r.createElement("div",{className:m()("poll--pollThemeWrapper--z0UVm","poll--container--UKRlY"),"data-preferred-theme":t,"data-transparency-mode":n,ref:P},d?r.createElement("div",{className:el},h):r.createElement(g.L,{type:"text",className:m()(el,_.Qx,_.Uu),value:h,placeholder:(0,v.t)("slides.flapp.poll.question_placeholder"),onChange:k,onPaste:T,recordingKey:f.Pt(u,"questionInput")}),w.map((e,t)=>{let n=r.createRef();C.push(n);let a=-1!==M.indexOf(t);return d?r.createElement(ep,{votes:L[t],key:t,isWinningVote:a,isUserVote:t===U,percentage:B[t],resultsShown:S,recordingKey:f.Pt(u,`option${t}`),onClick:()=>V(t)},r.createElement("div",{className:es},e)):r.createElement(ep,{votes:L[t],key:t,isWinningVote:a,isUserVote:t===U,percentage:B[t],resultsShown:S},r.createElement(g.L,{className:m()(es,_.Qx,_.Uu),type:"text",value:e,placeholder:(0,v.t)("slides.flapp.poll.option_placeholder"),onChange:e=>O(t,e),onKeyDown:e=>A(t,e),onPaste:e=>D(t,e),ref:n,recordingKey:f.Pt(u,`optionInput${t}`)}))}),r.createElement(em,{onClick:d||w.length>=6?void 0:y.nc.user(eE,()=>{i(x(w.length),""),N(!0)}),recordingKey:u}),r.createElement("div",{className:"poll--resultContainer--cQQVk text--fontPos20--Bcz97 text--_fontBase--QdLsd"},r.createElement(eu,{totalVotes:R,hasUserVote:U>=0,firstVoteByTimestamp:H}),r.createElement(ed,{resultsShown:S,setResultsShown:e=>F(e)})))}function ev({configData:e,participantData:t,setConfigData:n,setParticipantData:a,deleteConfigData:o,isViewer:l,isPresenter:i,recordingKey:s,nodeId:c}){let d=(0,N.aF)(e);return r.createElement(eh,{preferredTheme:d.preferredTokenTheme,transparencyMode:d.transparentMode,configData:e,participantData:t,setConfigData:n,setParticipantData:a,deleteConfigData:o,isViewer:l,isPresenter:i,nodeId:c,recordingKey:s})}let e_={EditorFlapp:i(ev),ViewerFlapp:s(ev)};var ew=n(323762),ey=n(776621),eI=n(304783),eS=n(493323);function eb(e){let t=a.jot?.openIgnoreUndoRedoScope();try{return e()}finally{null!=t&&a.jot?.closeIgnoreUndoRedoScope(t)}}var eN=n(15859),eC=n(882698);async function eP(e){if(!e)return;let t=(0,ew.KJ)(e.trim());if(t)try{let n=(await eC.E.getLinkMetadata({text:t.isFromIFrame?e:t.url,useEmbedsAllowList:"true",useLinkPreviewsV2:"true"})).data.meta;if(!n||"embed"!==n.type)return;return{srcUrl:n.srcUrl.replace("&autoplay=1","").replace("&auto_play=1","")+"&enablejsapi=1",url:decodeURIComponent(n.url||""),height:800*(n.height||450)/(n.width||800),width:800,title:decodeURIComponent(n.title||"YouTube"),thumbnailImage:n.thumbnailImage,thumbnailUrl:n.thumbnailUrl}}catch(e){(0,ey.x1)(eI.e.SLIDES,"Failed to get youtube embed",e)}}function ek({configData:e,disablePointerEvents:t,onIframeLoad:n}){return r.createElement("div",{className:h.cx.wFull.hFull.$},e.srcUrl&&e.title?r.createElement("iframe",{src:e.srcUrl,className:h.cx.wFull.hFull.$,onLoad:e=>n?.(e.target),title:e.title,allowFullScreen:!1,allow:"autoplay"}):null,t?r.createElement("div",{className:h.cx.wFull.hFull.absolute.top0.left0.$}):null)}function eT({configData:e}){return e.url&&e.title?r.createElement("a",{className:h.cx.wFull.hFull.cursorPointer.relative.$,style:{pointerEvents:"auto"},href:e.url,target:"_blank",rel:"noopener noreferrer",title:e.title},e.thumbnailUrl?r.createElement("img",{src:e.thumbnailUrl,alt:e.title,className:h.cx.wFull.hFull.$,style:{objectFit:"cover"}}):null):null}let ex={EditorFlapp:i(function(e){let{configData:t,nodeId:n,setConfigData:a,isReadOnly:l}=e;return((0,r.useEffect)(()=>{l||t.srcUrl||eP(t.url).then(async e=>{if(!e)return;let t=o.q.instance.get(n);if(t&&(y.l7.system("initializing-youtube",()=>{eb(()=>{t.resizeWithConstraints(e.width,e.height),t.proportionsConstrained=!0;let n=t.relativeTransform;n.m02=t.relativeTransform.m02-e.width/2,n.m12=t.relativeTransform.m12-e.height/2,t.relativeTransform=n,a("srcUrl",e.srcUrl),a("title",e.title),e.url&&a("url",e.url),e.thumbnailUrl&&a("thumbnailUrl",e.thumbnailUrl)})}),e.thumbnailImage))try{let n=new Uint8Array(e.thumbnailImage.data),a=await (0,eN.UD)(n,"image/png",e.title);y.l7.system("initializing-youtube-thumbnail",()=>{eb(()=>{t.insertImageInFillPaint(a)})})}catch(e){}})},[t.url,t.srcUrl,n,a,l]),t.url&&!t.srcUrl)?r.createElement("div",{className:h.cx.absolute.w48.h48.$},r.createElement(eS.kt,{size:"custom",className:h.cx.w48.h48.$})):r.createElement(ek,{...e,disablePointerEvents:!0})}),ViewerFlapp:s(function(e){let t=(0,r.useCallback)(t=>{e.viewer&&e.viewer.associateYoutubeWithNode(e.nodeId,t)},[e.viewer,e.nodeId]);return(0,r.useEffect)(()=>()=>{e.viewer&&e.viewer.disassociateYoutubeWithNode(e.nodeId)},[e.viewer,e.nodeId]),r.createElement(ek,{...e,onIframeLoad:t})})},eO={EditorFlapp:i(eT),ViewerFlapp:s(eT)},eD={[a.a9h.EMBED]:z,[a.a9h.POLL]:e_,[a.a9h.FACEPILE]:et,[a.a9h.ALIGNMENT]:B,[a.a9h.YOUTUBE]:ex},eA={[a.a9h.EMBED]:$,[a.a9h.POLL]:e_,[a.a9h.FACEPILE]:et,[a.a9h.ALIGNMENT]:B,[a.a9h.YOUTUBE]:eO},eF={EditorFlapp:()=>null,ViewerFlapp:()=>null};function eL(e){return null===e?eF:eD[e]||eF}function eR(e){return null===e?eF:eA[e]||eF}},667005:(e,t,n)=>{n.d(t,{_:()=>d,s:()=>s});var a=n(598045),r=n(374626),o=n(38580),l=n(29680);let i=(0,n(529928).bt)(e=>e.mirror.appModel.activeUserAction);function s(e){let t=(0,l.KH)(),n=t&&1===Object.keys(t).length&&t[e],o=(0,r.md)(i);return n&&o===a.QOV.DEFAULT}let c=(0,o.eU)(null);function d(e){let[t,n]=(0,r.fp)(c);return{shouldBeMounted:t===e,loadEmbed:()=>{n(()=>e)}}}},975354:(e,t,n)=>{n.d(t,{h:()=>p});var a=n(411855),r=n(598045),o=n(563706),l=n(175515),i=n(762638),s=n(835510),c=n(170039);function d(e,t,n){let a=e.nodeId(n),{offset:r,zoomScale:o}=e.viewport(),l=t.getBoundingClientRect(),i={x:r.x*o+l.width/2,y:r.y*o+l.height/2},s=e.nodeCanvasSpaceBounds(n),c={x:s.x*o,y:s.y*o},d=e.getTopmostFrameNode(),u=d?e.nodeScrollBounds(d)??{x:0,y:0}:{x:0,y:0},p={x:i.x+c.x-u.x,y:i.y+c.y-u.y,width:s.width,height:s.height};return{guid:a,type:f(e,n),viewportBounds:p,transformScale:o,visible:!0}}function u(e,t){let n=t.getTopmostFrameNode();if(!n)return!1;let a=t.nodeId(n),r=e;for(;r;){if(t.nodeId(r)===a)return!0;r=t.nodeParent(r)}return!1}function p(e){let{viewer:t,viewerElement:n}=e,[o,s]=(0,a.useState)({}),[p,g]=(0,a.useState)({}),E=a.useCallback(()=>{t&&n&&s(e=>{let a=!1,r={};for(let n in e){let o=t.getPrototypeNode(n);o&&u(o,t)?r[n]=e[n]:a=!0}let o=t.getTopmostFrameNode();if(o){let e=o=>{"INTERACTIVE_SLIDE_ELEMENT"===t.nodeType(o)&&(r[t.nodeId(o)]=d(t,n,o),a=!0),t.mapChildren(o,()=>0).length>0&&t.mapChildren(o,e)};t.mapChildren(o,e)}return a?r:e})},[t,n]),h=a.useCallback(e=>{if(!t||!n)return;let a=t.getPrototypeNode(e);if(!a){if(o[e]){let t={...o};delete t[e],s(t)}return}if(!u(a,t)){let t=!1,n={...o};n[e]&&(t=!0,n[e].visible=!1),t&&s(n);return}if("INTERACTIVE_SLIDE_ELEMENT"===t.nodeType(a)){if(!t)return;let a={...o},r=t.getPrototypeNode(e);if(!r||!n)return;a[e]=d(t,n,r),s(a)}},[t,n,o]),v=a.useCallback(()=>{if(!t||!n)return;let e=t.getPreviousAndNextNBaseScreenIds(0),a={};if(e)for(let o of e){let e=t.getPrototypeNode(o);if(e){let o=e=>{"INTERACTIVE_SLIDE_ELEMENT"===t.nodeType(e)&&f(t,e)===r.a9h.EMBED&&(a[t.nodeId(e)]=d(t,n,e)),t.mapChildren(e,()=>0).length>0&&t.mapChildren(e,o)};t.mapChildren(e,o)}}E(),g(a)},[t,n,E]);l.O5(t,"accessibilityNodeInvalidated",h),l.O5(t,"viewportChanged",E),l.O5(t,"topLevelFrameChange",E),l.O5(t,"scrollEvent",E),l.O5(t,"canvasResize",E),l.O5(t,"baseScreenChanged",v);let _=a.useMemo(()=>{let e=Object.values({...o,...p});return e.sort((e,t)=>e.guid.localeCompare(t.guid)),e},[o,p]);return a.createElement("div",{id:"flappRendererContainer",className:i.cx.relative.zIndex1.$},_.map(e=>{if(e.visible)return a.createElement("div",{key:e.guid,style:{position:"absolute",width:e.viewportBounds.width,height:e.viewportBounds.height,transform:`translate(${e.viewportBounds.x}px, ${e.viewportBounds.y}px) scale(${e.transformScale})`,transformOrigin:"top left",background:"transparent",colorScheme:"initial",top:0,left:0,visibility:o[e.guid]?"visible":"hidden"}},a.createElement("div",{className:c.U},a.createElement(m,{viewer:t,element:e,key:e.guid})))}))}function m({viewer:e,element:t}){let{ViewerFlapp:n}=o.rr?(0,s.v)(t.type):(0,s.Z)(t.type);return a.createElement(n,{viewer:e,nodeId:t.guid})}function f(e,t){return e.nodeInteractiveSlideElementType(t)}},786807:(e,t,n)=>{n.d(t,{F:()=>f});var a=n(411855),r=n(629019),o=n.n(r),l=n(395096),i=n(91408),s=n(776621),c=n(304783),d=n(572206),u=n(428322),p=n(505727),m=n(860168);function f({currentSlideIndex:e,slideIds:t,isVisible:n,showSlideAtIndex:r,viewer:o}){let l=a.useCallback(r,[r]);return a.createElement(a.Fragment,null,a.createElement("div",{className:n?"carousel--previewSlideContainer--0-7Vl":"carousel--hidden--L4c9Y"},t.map((t,n)=>a.createElement(g,{key:t,index:n,slideId:t,isSelected:n===e,onClick:l,viewer:o}))),a.createElement(p.e,{isHidden:!n}))}let g=a.memo(function({index:e,isSelected:t,slideId:n,onClick:r,viewer:l}){let i=a.useRef(null);return a.useEffect(()=>{setTimeout(()=>{t&&i.current&&i.current.scrollIntoView({block:"start",inline:"nearest",behavior:"smooth"})})},[t]),a.createElement("button",{className:o()("carousel--thumbnail--4CmVG",{"carousel--thumbnailSelected--ZSwnC":t}),key:n,onClick:()=>r(e),ref:t?i:null},a.createElement("div",{className:o()("carousel--thumbnailNumber--homzs text--fontPos13--xW8hS text--_fontBase--QdLsd",{"carousel--thumbnailNumberSelected--Wu-9g":t})},e+1),a.createElement("div",{className:"carousel--thumbnailImageContainer--mkUu-"},a.createElement(E,{slideId:n,viewer:l})))}),E=a.memo(function({slideId:e,viewer:t}){let n=a.useRef(null),[r,o]=a.useState(0),[i]=(0,l.A)(r,200),[p,m]=a.useState(!1),f=window.devicePixelRatio;(0|f)!==f&&(f=2);let g=new d.Mi(h,v),E=g.scale(f),_=a.useCallback(e=>{if(t){let a=t.getThumbnailForNode(e,E.x,E.y);if(!a){(0,s.x1)(c.e.SLIDES,"Failed to generate thumbnail in presenter view for slide",{slideId:e},{reportAsSentryError:!0});return}let r=new ImageData(new Uint8ClampedArray(a),E.x,E.y);if(n.current){let e=n.current.getContext("2d");e&&e.putImageData(r,0,0)}}},[t,E]);return a.useEffect(()=>{p&&_(e)},[_,e,p,i]),a.useEffect(()=>{let n=t=>{t===e&&o(e=>e+1)};return t?.on("slideThumbnailInvalidated",n),()=>{t?.off("slideThumbnailInvalidated",n)}},[t,e]),a.createElement(a.Fragment,null,a.createElement(u.a,{onIntersectionChange:e=>{e.isIntersecting&&m(!0)}}),a.createElement("canvas",{ref:n,width:E.x,height:E.y,style:{width:`${g.x}px`,height:`${g.y}px`}}))}),h=(0,i.jz)(m.MPx),v=(0,i.jz)(m.p3_)},653603:(e,t,n)=>{function a(e){return[" ","Enter","ArrowRight","ArrowDown","PageDown","n"].includes(e.key)}function r(e){return["ArrowLeft","ArrowUp","PageUp","N"].includes(e.key)}n.d(t,{J:()=>a,f:()=>r})},95811:(e,t,n)=>{n.d(t,{f:()=>u});var a=n(411855),r=n(188507),o=n(629019),l=n.n(o),i=n(91408),s=n(860168),c=n(538411),d=n(844052);function u(e){let t;let n=(0,r.d4)(e=>!!e.modalShown),o=(0,i.jz)(s.P4e);return t=e.offscreen?"translateY(100vh)":`translateY(-${o}px)`,a.createElement("div",{"aria-hidden":n,className:l()({[d.E3]:!0,[d.Oy]:!0,[c.Q]:e.srOnly}),style:{transform:t}},e.children)}},505727:(e,t,n)=>{n.d(t,{e:()=>l});var a=n(411855),r=n(829816),o=n(740631);function l({resizable:e,onDrag:t,isHidden:n}){let[,l]=(0,r.i)({onDrag:t});return e?a.createElement("div",{...l({className:n?o.y2:o.HH})},a.createElement("div",{className:o.ki})):a.createElement("div",{className:n?o.y2:o.E7},a.createElement("div",{className:o.ki}))}},74434:(e,t,n)=>{n.d(t,{g:()=>g});var a=n(411855),r=n(629019),o=n.n(r),l=n(966712),i=n(319008),s=n(255416),c=n(620430),d=n(975354);let u="slide_preview--viewerWithFrameControlsAvoidance--K1yr-",p="slide_preview--hiddenSlidePreviewContainer---a2ai",m="slide_preview--maxHeightWidth--9HS2L",f=9/16;function g({viewer:e,viewerElement:t,setViewerElement:n,isHidden:r,isCarouselOpen:g,viewerFrameCustomClass:E,avoidFrameControls:h,fitToWindow:v}){let[_,w]=a.useState(500),y=a.useCallback(()=>{r||w((t?.offsetWidth||0)*f)},[t?.offsetWidth,r]);a.useEffect(y,[y,g]),a.useEffect(()=>(y(),window.addEventListener("resize",y),()=>{window.removeEventListener("resize",y)}),[t?.offsetWidth,y]);let I=e?.viewport(),S=a.useCallback(()=>({x:t?.offsetLeft||0,y:t?.offsetTop||0,width:t?.offsetWidth||0,height:t?.offsetHeight||0,offsetX:-1*(I?.offset.x||0),offsetY:-1*(I?.offset.y||0),zoomScale:I?.zoomScale||0,isZooming:!1,isPanning:!1}),[I,t]);return a.createElement(a.Fragment,null,a.createElement("div",{className:o()("slide_preview--slidePreviewContainer--gGO84",{[p]:r,[u]:h})},a.createElement("div",{className:o()("slide_preview--flappRendererContainer--Kpbel",{[u]:h,[m]:v}),style:{height:`${_}px`}},e&&t&&!r&&a.createElement(a.Fragment,null,a.createElement(d.h,{viewer:e,viewerElement:t}),(0,l.kc)().piper_viewer_emotes&&a.createElement(c.X,{viewer:e,getViewport:S,multiplayerCursorsEnabled:!0}))),a.createElement(s.mD,{getViewport:S,viewer:e},a.createElement("div",{className:o()({[p]:r})},a.createElement(i.Nz,{prototypeHeaderHidden:!0})),a.createElement("div",{className:o()("slide_preview--viewer--eEdQy",E,{[u]:h,[m]:v}),style:{height:`${_}px`},ref:n}))))}},972167:(e,t,n)=>{n.d(t,{p:()=>_});var a=n(411855),r=n(979232),o=n(939863),l=n(601607),i=n(654164),s=n(505727),c=n(574176),d=n(101505),u=n(498606),p=n(227795);let m="size_adjustment_control--button--5QSIT";var f=n(911339),g=n(125085);function E({onIncrement:e,onDecrement:t,incrementDisabled:n,decrementDisabled:r}){return a.createElement("div",{className:"size_adjustment_control--wrapper--weL0N"},a.createElement(p.Me,{className:m,disabled:r,"data-tooltip-type":u.Ib.TEXT,"data-tooltip-show-above":!0,"data-tooltip":(0,o.t)("slides.presenter_view.decrement_font_size"),onClick:()=>t(),trackingProperties:{trackingDescriptor:d.c.SPEAKER_NOTES_FONT_SIZE_DECREMENT}},a.createElement(c.B,{svg:f.A})),a.createElement("div",{className:"size_adjustment_control--divider--TBbEU"}),a.createElement(p.Me,{className:m,disabled:n,"data-tooltip-type":u.Ib.TEXT,"data-tooltip-show-above":!0,"data-tooltip":(0,o.t)("slides.presenter_view.increment_font_size"),onClick:()=>e(),trackingProperties:{trackingDescriptor:d.c.SPEAKER_NOTES_FONT_SIZE_INCREMENT}},a.createElement(c.B,{svg:g.A})))}let h=["speaker_notes_display--fontSize14--iIxog text--fontPos14--OL9Hp text--_fontBase--QdLsd","speaker_notes_display--fontSize16--lvsSe text--fontPos16--oMC-G text--_fontBase--QdLsd","speaker_notes_display--fontSize18--oBVtx text--fontPos18--rYXJb text--_fontBase--QdLsd","speaker_notes_display--fontSize24--gyR3B text--fontPos24--YppUD text--_fontBase--QdLsd","speaker_notes_display--fontSize30--ob4ed text--fontPos30--N-YT7 text--_fontBase--QdLsd","speaker_notes_display--fontSize48--p7RmP text--fontPos48--H177Q text--_fontBase--QdLsd","speaker_notes_display--fontSize64--qeNKO text--fontPos64--MQLi2 text--_fontBase--QdLsd","speaker_notes_display--fontSize96--5ErZa text--fontPos96--Cyvg- text--_fontBase--QdLsd"];function v({speakerNotes:e}){let[t]=(0,r.useLexicalComposerContext)();return a.useEffect(()=>{t.setEditorState(t.parseEditorState(e))},[e,t]),null}function _({currentSlideNodeId:e,width:t,showBorder:n,onDrag:r}){let[c,d]=a.useState(2),u=(0,l.x3)((e,t)=>{let n=e.getPrototypeNode(t);return n?e.nodeSlideSpeakerNotes(n):""},e)||i.D,p=a.useRef(null),[m,f]=a.useState(e);return a.useEffect(()=>{m!==e&&(p.current?.scrollTo(0,0),f(e))},[p,e,m]),a.createElement(a.Fragment,null,a.createElement(s.e,{isHidden:!n,resizable:!0,onDrag:r}),a.createElement("div",{className:"speaker_notes_display--speakerNotesContainer--5vSaG",style:{width:t},"data-testid":"speakerNotesDisplay"},a.createElement("div",{className:"speaker_notes_display--speakerNotesContent--tF-Rp",ref:p},a.createElement("div",{className:h[c]},a.createElement(i.s,{initialSpeakerNotesData:u,namespace:"SpeakerNotesDisplay",isEditable:!1,placeholder:a.createElement("div",{className:"speaker_notes_display--placeholder--Uz0qc"},(0,o.t)("fullscreen_actions.slides-speaker-notes-no-notes-placeholder"))},a.createElement(v,{speakerNotes:u})))),u!==i.D&&a.createElement(E,{onIncrement:function(){c<h.length-1&&d(c+1)},onDecrement:function(){c>0&&d(c-1)},incrementDisabled:c>=h.length-1,decrementDisabled:0===c})))}},178062:(e,t,n)=>{n.d(t,{f:()=>eg});var a=n(411855),r=n(188507),o=n(966712),l=n(374626),i=n(986556),s=n(155659),c=n(565872),d=n(662275),u=n(672517),p=n(693707),m=n(988022),f=n(67085),g=n(809511),E=n(737499),h=n(611978),v=n(99506),_=n(776615),w=n(143678),y=n(402766),I=n(489921),S=n(180252),b=n(755934),N=n(767904),C=n(127775),P=n(37458),k=n(255416),T=n(624187),x=n(250118),O=n(284995),D=n(620430),A=n(817543),F=n(975354),L=n(335682),R=n(947640),B=n(65377),M=n(629019),U=n.n(M),H=n(574176),V=n(318812),W=n(860178),z=n(549166),$=n(650169),K=n(767129);function Z(e){return a.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},a.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M5 6h14a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1ZM3 7a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-1.982l.945 2.31a.5.5 0 0 1-.926.38l-1.1-2.69H8.063l-1.1 2.69a.5.5 0 1 1-.926-.379L6.982 17H5a2 2 0 0 1-2-2V7Zm3 2a1 1 0 1 1 2 0 1 1 0 0 1-2 0Zm1 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z",clipRule:"evenodd"}))}var q=n(517333),Y=n(939863),Q=n(392592),G=n(934533),j=n(831216),J=n(498606);function X(){let[e,t]=(0,l.fp)(j.v0),n=(0,r.wA)(),o=(0,j.fe)();return a.createElement(K.K,{onClick:()=>{e.avWindow&&e.readyForMessages?q.eD&&q.eD.getVersion()>=116?q.eD.focusPopoutWindow(e.avWindow.name):e.avWindow.focus():(t({type:j.Pp.DISPATCH_WINDOW_OPEN,dispatch:n,url:o}),n(Q.F.enqueue({icon:G.zX.NOTES_ON_RECTANGLE,message:(0,Y.t)("slides.presenter_view.visual_bells.opened_audience_view_in_separate_window")})))},"aria-label":(0,Y.t)("viewer.menu_bar.presenter_view"),htmlAttributes:{"data-tooltip":(0,Y.t)("viewer.menu_bar.presenter_view"),"data-tooltip-type":J.Ib.TEXT}},a.createElement(Z,null))}var ee=n(346719),et=n(172789),en=n(319063),ea=n(673697),er=n(637158),eo=n(105780),el=n(767e3),ei=n(874128);function es({isCarouselOpen:e,onSidebarToggleClick:t,isSlidePreviewShown:n,onSlidePreviewToggleClick:r,file:o,multiplayer:l,showProgressBar:i}){let s=(0,W.iZ)(),c=(0,V.Um)(),d=a.useRef(null);return(0,$.ad)(o.editorType),a.createElement(et.D,{fileName:o.name,headerClassName:en.PU,showProgressBar:i,headerRef:d,disableHeaderFade:!0,leftColumn:a.createElement(H.B,{onClick:t,svg:e?el.A:eo.A,className:en.x$}),rightColumn:a.createElement(a.Fragment,null,l&&a.createElement(z.Cv,{dropdownShown:c,multiplayer:l,user:s}),a.createElement("div",{className:en.fi},a.createElement("div",{className:U()(en.I,ea.LY)},a.createElement(X,null)),a.createElement("div",{className:en.ZH},a.createElement(H.B,{onClick:r,svg:ei.A,className:n?en.PD:en.P}),a.createElement(H.B,{onClick:r,svg:er.A,className:n?en.P:en.PD}))),a.createElement(ee.g,{headerRef:d,file:o}))})}var ec=n(740631);function ed({viewer:e,viewerElement:t,setViewerElement:n,file:r,prototype:o,multiplayer:l}){let i=(0,L.tS)()||"",[s,c]=a.useState(!0),[d,p]=a.useState(!0);return(0,u.T8)(a.createElement("div",{className:ec.S1},a.createElement(es,{isCarouselOpen:s,isSlidePreviewShown:d,onSlidePreviewToggleClick:()=>{(0,m.Cu)({name:"slides.presentation_mode.right_panel_presenter_view",isShown:!d,fileKey:i,productType:"slides"}),p(!d)},onSidebarToggleClick:()=>{(0,m.Cu)({name:"slides.presentation_mode.left_panel_presenter_view",isShown:!s,fileKey:i,productType:"slides"}),c(!s)},file:r,showProgressBar:o.showProgressBar,multiplayer:l}),a.createElement(B.R,{viewer:e,setViewerElement:n,viewerElement:t,isCarouselOpen:s,isSlidePreviewShown:d,multiplayer:l}),a.createElement("div",{className:ec.c0},a.createElement(R.y,{viewer:e}))),w.e0.SLIDES_PRESENTER_VIEW,{productType:"slides",fileKey:i})}var eu=n(95811),ep=n(632544),em=n(945564);function ef(e){let{livegraphData:t}=e,n=(0,h._6)(),i=(0,r.d4)(e=>e.prototype),s=(0,r.d4)(e=>e.multiplayer),c=(0,r.d4)(e=>e.user),p=(0,r.wA)();if("prototype"!==n.view)throw Error(`Unexpected non-prototype view: ${n.view}`);a.useEffect(()=>(document.body.classList.add(em.$7),()=>{document.body.classList.remove(em.$7)}),[]);let g=(0,E.Yi)(n),v=i.showComments&&!g;(0,x.kZ)();let[_,y]=a.useState(null),S=(0,x.l1)(_,n,{viewportScalingMode:"contain",contentScalingMode:"fixed"},s,!1,e.showDeviceFrame,v,i,c,"slides");a.useEffect(()=>{S?.setShouldPlayVideosLinearly(!0)},[S]);let{getViewport:b}=(0,x.ew)(S,_);P.Il();let{showNextFrame:C,showPreviousFrame:A,navigateToFrameAtIndex:L,restartPrototype:R}=(0,x.qW)(S,s);P.rG(C,A,L,R,t?.file.name||null,S),P.n1(t?.file.name||null),P.cw();let B=(0,l.md)(T.Md),M=t?t.file.key:"",U=a.useRef(!1),H=(0,o.kc)().sc_slides_add_share_row;a.useEffect(()=>{H&&!U.current&&B.status===T.z2.LOADED&&n.share&&""!==M&&c&&(p((0,d.to)({type:N.g_,data:{fileKey:M,source:f.nk.fullscreenToolbar}})),U.current=!0)},[B.status,n.share,p,M,c,H]);let V=!!n.isPresenterView;return a.createElement(a.Fragment,null,t&&(0,u.T8)(a.createElement(a.Fragment,null,a.createElement(I.A,null),!V&&S&&_&&a.createElement(F.h,{viewer:S,viewerElement:_}),!!S&&(0,o.kc)().piper_viewer_emotes&&a.createElement(a.Fragment,null,a.createElement(D.X,{viewer:S,getViewport:b,multiplayerCursorsEnabled:!0})),V&&S&&a.createElement(ed,{viewer:S,viewerElement:_,setViewerElement:y,file:t.file,prototype:i,multiplayer:s}),!V&&a.createElement(k.Yp,{file:t.file,isCommentsMode:v,scalingInfo:{viewportScalingMode:"scale-down-width",contentScalingMode:"fixed"},showHotspots:!1,showPrototypeOptions:!1,showDeviceFrame:e.showDeviceFrame,org:e.org,recordingKey:"prototypeView",viewer:S,viewerElement:_,setViewerElement:y})),w.e0.PROTOTYPE,(0,m.oP)(t.file)),"prototype"===n.view&&!!S&&a.createElement(O.z,{viewer:S,entry:V?ep.t5:ep.rn}))}function eg(){let e=(0,r.wA)(),t=(0,r.d4)(e=>e.selectedView),n=(0,r.d4)(e=>e.prototype),l=(0,r.d4)(e=>e.flashes),d=(0,r.d4)(e=>e.currentUserOrgId?e.orgById[e.currentUserOrgId]:null),u=(0,r.d4)(e=>e.interactionTestDialogShown);if("prototype"!==t.view)throw Error(`Unexpected non-prototype view: ${t.view}`);let m=a.useRef(null),f=(0,p.Z)("dark",m,t,!0),E=(0,x.PG)(t);return(a.useLayoutEffect(()=>{m.current&&(m.current.dataset.editorTheme=(0,_.ju)(t))},[t]),(0,b.d)())?a.createElement(b.O,{dispatch:e}):a.createElement(_.uW.Provider,{value:f},a.createElement(S.K,{recordingKey:"inAppPage",containerRef:m},a.createElement(ef,{scalingMode:"scale-down",showHotspots:!1,showDeviceFrame:!1,org:d,livegraphData:E}),(!E||n.showProgressBar)&&a.createElement(C.z2,{editorType:v._Y.DESIGN,isViewer:!0,progressBarMode:g.Oin.HIDE_UI}),a.createElement(i.a,{flashes:l}),a.createElement(y.V,null),o.kc()?.fpl_refactor_visual_bell?a.createElement(s.d,{positioner:eu.f}):a.createElement(c.z,null),a.createElement(A.hG,null),u&&null))}},654164:(e,t,n)=>{n.d(t,{D:()=>y,s:()=>I});var a=n(411855),r=n(611001),o=n(852542),l=n(59815),i=n(662696),s=n(77669),c=n.n(s),d=n(54822),u=n(798898),p=n(291589),m=n(515395),f=n(244379),g=n(944492),E=n(133737),h=n(966712),v=n(336427),_=n(719049);let w={list:{nested:{listitem:"speaker_notes_lexical_editor--nestedListItem--gXf0X"},olDepth:["speaker_notes_lexical_editor--ol1--HyZBK speaker_notes_lexical_editor--baseOl--oi5Yu","speaker_notes_lexical_editor--ol2--RHI5f speaker_notes_lexical_editor--baseOl--oi5Yu","speaker_notes_lexical_editor--ol3--sicVh speaker_notes_lexical_editor--baseOl--oi5Yu","speaker_notes_lexical_editor--ol4--D9207 speaker_notes_lexical_editor--baseOl--oi5Yu","speaker_notes_lexical_editor--ol5--Yjgl7 speaker_notes_lexical_editor--baseOl--oi5Yu"],ol:"speaker_notes_lexical_editor--listOl--F-XTs",ul:"speaker_notes_lexical_editor--listUl--02TdP",listitem:"speaker_notes_lexical_editor--listItem--zdUll"},text:{bold:"speaker_notes_lexical_editor--textBold--QdGoR",italic:"speaker_notes_lexical_editor--textItalic--J3KZF",strikethrough:"speaker_notes_lexical_editor--textStrikethrough--r-r5p",underline:"speaker_notes_lexical_editor--textUnderline--qHKah",underlineStrikethrough:"speaker_notes_lexical_editor--textUnderlineStrikethrough--zMkdq"}},y='{"root":{"children":[{"children":[],"direction":null,"format":"","indent":0,"type":"paragraph","version":1}],"direction":null,"format":"","indent":0,"type":"root","version":1}}';function I({initialSpeakerNotesData:e,namespace:t,onEdit:n,isEditable:s,placeholder:I,children:S}){let b={editable:s,editorState:e||y,nodes:[r.ListNode,r.ListItemNode,E.TextNode],namespace:t,onError:e=>{console.error(e)},theme:w};return a.createElement(l.LexicalComposer,{initialConfig:b},a.createElement(a.Fragment,null,a.createElement(v.ap,null),a.createElement(f.RichTextPlugin,{contentEditable:a.createElement(i.ContentEditable,{className:"speaker_notes_lexical_editor--input--Dp--S"}),placeholder:I,ErrorBoundary:c()}),S,s&&a.createElement(a.Fragment,null,n&&a.createElement(m.OnChangePlugin,{onChange:n,ignoreSelectionChange:!0}),a.createElement(d.HistoryPlugin,null),a.createElement(p.MarkdownShortcutPlugin,{transformers:[o.UNORDERED_LIST,o.ORDERED_LIST,o.BOLD_ITALIC_STAR,o.BOLD_ITALIC_UNDERSCORE,o.BOLD_STAR,o.BOLD_UNDERSCORE,o.STRIKETHROUGH,o.ITALIC_STAR,o.ITALIC_UNDERSCORE]}),a.createElement(u.ListPlugin,null),a.createElement(g.TabIndentationPlugin,null),a.createElement(_.A,{maxDepth:5}),(0,h.kc)().figjam_ai_piper_speaker_notes&&a.createElement(v.B_,null))))}},719049:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(411855),r=n(611001),o=n(979232),l=n(133737);function i({maxDepth:e}){let[t]=(0,o.useLexicalComposerContext)();return(0,a.useEffect)(()=>t.registerCommand(l.INDENT_CONTENT_COMMAND,()=>!function(e){let t=(0,l.$getSelection)();if(!(0,l.$isRangeSelection)(t))return!1;let n=function(e){let t=e.getNodes();return new Set(0===t.length?[e.anchor.getNode().getParentOrThrow(),e.focus.getNode().getParentOrThrow()]:t.map(e=>(0,l.$isElementNode)(e)?e:e.getParentOrThrow()))}(t),a=0;for(let e of n)if((0,r.$isListNode)(e))a=Math.max((0,r.$getListDepth)(e)+1,a);else{if(!(0,r.$isListItemNode)(e))return!1;let t=e.getParent();if(!(0,r.$isListNode)(t))throw Error("LimitIndentLevelPlugin: A ListItemNode must have a ListNode for a parent.");a=Math.max((0,r.$getListDepth)(t)+1,a)}return a<=e}(e??7),l.COMMAND_PRIORITY_CRITICAL),[t,e]),null}},601976:(e,t,n)=>{n.d(t,{l:()=>r});var a=n(411855);function r(e){return a.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},a.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M13.418 18.628a8 8 0 1 1 5.21-5.21l1.723.646a1 1 0 0 1-.108 1.906l-3.418.855-.855 3.418a1 1 0 0 1-1.906.108l-.646-1.723Zm-.352-.938a7 7 0 1 1 4.624-4.624l-1.878-.704A5.005 5.005 0 0 0 11 6a5 5 0 1 0 1.362 9.812l.704 1.878Zm-1.057-2.818a4 4 0 1 1 2.863-2.863l-1.894-.71a2 2 0 1 0-1.68 1.68l.71 1.893ZM12 11a1 1 0 0 0-1 1 1 1 0 1 1 1-1Zm6.291 4.427L16 16l-.573 2.291L15 20l-.618-1.65-1.916-5.107L12 12l1.243.466 5.108 1.916L20 15l-1.709.427Z",clipRule:"evenodd"}))}}}]);

//# debugId=2d024010-18bd-5dd8-aeb7-f445d4ec4267

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/2ad91fba139714194528b11b3ab2661a6e421be0/678-ff23c7b232cae030.min.js.map